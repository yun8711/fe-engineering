import{_ as s,v as a,b as n,R as e}from"./chunks/framework.8277b2e6.js";const u=JSON.parse('{"title":"","description":"","frontmatter":{"outline":"deep","prev":false,"next":false},"headers":[],"relativePath":"docs/prettier.md","filePath":"docs/prettier.md","lastUpdated":1697046453000}'),l={name:"docs/prettier.md"},p=e(`<h1>Prettier</h1><p>v3.0.0（2023-07）</p><p><a href="https://www.prettier.cn/" target="_blank" rel="noreferrer">中文官网</a> | <a href="https://prettier.io/" target="_blank" rel="noreferrer">英文官网</a> | <a href="https://github.com/prettier/prettier" target="_blank" rel="noreferrer">github</a> | <a href="https://github.com/yun8711/fe-configuration/tree/master/examples/prettier" target="_blank" rel="noreferrer">完整注释</a></p><h2 id="介绍" tabindex="-1">介绍 <a class="header-anchor" href="#介绍" aria-label="Permalink to &quot;介绍&quot;">​</a></h2><p>Prettier 是一款代码格式化工具，可以帮助开发者自动化的将代码进行排版和格式化，从而使代码更加易读、易维护，并减少因为格式不一致引起的代码冲突。<br> 它可以支持多种编程语言，如 JavaScript、TypeScript、Flow、JSX、JSON、CSS、SCSS、Less、HTML 、Vue、Angular、GraphQL、Markdown、YAML</p><h2 id="配置文件" tabindex="-1">配置文件 <a class="header-anchor" href="#配置文件" aria-label="Permalink to &quot;配置文件&quot;">​</a></h2><p>在项目根目录下创建以下文件：</p><ul><li><code>.prettierrc.js</code>：用来声明配置（或者其他类型的配置文件，本文使用 .js 文件为例）</li><li><code>.prettierignore</code>：文件用来声明要被忽略检查的目录和文件</li></ul><h3 id="共享配置" tabindex="-1">共享配置 <a class="header-anchor" href="#共享配置" aria-label="Permalink to &quot;共享配置&quot;">​</a></h3><p>只需要发布一个导出配置对象的模块，比如<code>@company/prettier-config</code>，然后在package.json中引用它：</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">my-cool-library</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">9000.0.1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">prettier</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@company/prettier-config</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>如果不使用 package.json，也可以在项目中的 <code>.prettierrc.js</code> 中导入配置</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">...</span><span style="color:#82AAFF;">require</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@company/prettier-config</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 可以自定义规则对已有规则进行覆盖</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">semi</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div><h3 id="editorconfig-配置的影响" tabindex="-1">.editorconfig 配置的影响 <a class="header-anchor" href="#editorconfig-配置的影响" aria-label="Permalink to &quot;.editorconfig 配置的影响&quot;">​</a></h3><p>如果 prettier 的配置项中的<code>editorconfig</code>设置为 true，并且项目中存在<code>.editorconfig</code>配置文件，Prettier 会解析它，将其属性转换为相应的Prettier配置。<strong>但是<code>.prettierrc</code>的优先级更高</strong>。</p><p>下面是不同属性如何映射到Prettier行为的注释描述：</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight has-diff"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#BABED8;">*</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 不可配置的Prettier行为</span></span>
<span class="line"><span style="color:#C3E88D;">charset = utf-8</span></span>
<span class="line"><span style="color:#C3E88D;">insert_final_newline = true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Caveat: Prettier won’t trim trailing whitespace inside template strings, but your editor might.</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 警告:Prettier不会修剪模板字符串中的末尾空白，但你的编辑器可能会</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># trim_trailing_whitespace = true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 可配置的Prettier行为</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># (change these if your Prettier config differs)</span></span>
<span class="line"><span style="color:#C3E88D;">end_of_line = lf</span></span>
<span class="line"><span style="color:#C3E88D;">indent_style = space</span></span>
<span class="line"><span style="color:#C3E88D;">indent_size = 2</span></span>
<span class="line"><span style="color:#C3E88D;">max_line_length = 80</span></span></code></pre></div><h2 id="插件" tabindex="-1">插件 <a class="header-anchor" href="#插件" aria-label="Permalink to &quot;插件&quot;">​</a></h2><p>prettier 插件的名称一般为<code>prettier-plugin-xxx</code></p><p><strong>prettier-plugin-packagejson</strong></p><p>用于格式化 package.json 文件，对配置项进行排序，同时也可以用于格式化 json 文件</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">pnpm add -D prettier-plugin-packagejson</span></span></code></pre></div><p>配置方式，在 <code>.prettierrc.js</code>文件中添加以下配置</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">module.export=</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#676E95;font-style:italic;">// ...省略其他配置</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#676E95;font-style:italic;">// 指定插件</span></span>
<span class="line"><span style="color:#BABED8;">	plugins</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span><span style="color:#BABED8;">&#39;prettier-plugin-packagejson&#39;</span><span style="color:#89DDFF;">],</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#676E95;font-style:italic;">// 针对 rc 文件，使用 json 方式进行格式化</span></span>
<span class="line"><span style="color:#BABED8;">  overrides</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      files</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> &#39;.*rc&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      options</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        parser</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> &#39;json&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#676E95;font-style:italic;">// 指定规则</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">singleQuote</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">false,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">quoteProps</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">preserve</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h2 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to &quot;示例&quot;">​</a></h2><p><a href="https://github.com/ant-design/ant-design-pro/blob/master/.prettierrc.js" target="_blank" rel="noreferrer">ant-design-pro</a></p><p><a href="https://github.com/ant-design/ant-design/blob/master/.prettierrc" target="_blank" rel="noreferrer">ant-design</a></p><p><a href="https://github.com/vueComponent/ant-design-vue/blob/main/.prettierrc" target="_blank" rel="noreferrer">ant-design-vue</a></p>`,28),o=[p];function t(r,c,i,D,y,F){return a(),n("div",null,o)}const h=s(l,[["render",t]]);export{u as __pageData,h as default};
