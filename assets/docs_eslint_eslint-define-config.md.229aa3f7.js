import{_ as s,v as n,b as l,R as a}from"./chunks/framework.8277b2e6.js";const g=JSON.parse('{"title":"","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"docs/eslint/eslint-define-config.md","filePath":"docs/eslint/eslint-define-config.md","lastUpdated":1710299060000}'),e={name:"docs/eslint/eslint-define-config.md"},t=a(`<h1>插件：eslint-define-config</h1><p>v2.1.0</p><p><a href="https://github.com/eslint-types/eslint-define-config/tree/main" target="_blank" rel="noreferrer">github</a></p><p>这个插件为 <code>.eslintrc.js</code> 和 <code>eslint.config.js</code> 文件提供了一个<code>defineFlatConfig</code> 函数，用来改善使用 ESLint 时的配置体验：</p><ul><li>自动建议</li><li>使用<code>// @ts-check</code>注释可以对配置文件进行检查类型</li><li>提供配置文档</li><li>对弃用的配置进行警告</li></ul><h2 id="基本用法" tabindex="-1">基本用法 <a class="header-anchor" href="#基本用法" aria-label="Permalink to &quot;基本用法&quot;">​</a></h2><p>1、安装：</p><p><code>pnpm add -D eslint-define-config</code></p><p>2、使用</p><p>（1）在 <code>.eslintrc.js</code> 文件中</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// @ts-check</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> defineConfig </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">require</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">eslint-define-config</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;</span><span style="color:#F07178;font-style:italic;">reference</span><span style="color:#89DDFF;font-style:italic;"> </span><span style="color:#C792EA;font-style:italic;">types</span><span style="color:#89DDFF;font-style:italic;">=</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#C3E88D;font-style:italic;">@eslint-types/typescript-eslint</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#89DDFF;font-style:italic;"> /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">defineConfig</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">root</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// rules...</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p>（2）在 <code>eslint.config.js</code> 文件中</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// @ts-check</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> defineFlatConfig </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">require</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">eslint-define-config</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;</span><span style="color:#F07178;font-style:italic;">reference</span><span style="color:#89DDFF;font-style:italic;"> </span><span style="color:#C792EA;font-style:italic;">types</span><span style="color:#89DDFF;font-style:italic;">=</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#C3E88D;font-style:italic;">@eslint-types/typescript-eslint</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#89DDFF;font-style:italic;"> /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">defineFlatConfig</span><span style="color:#BABED8;">([</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">eslint:recommended</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// plugins...</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// rules...</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">])</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p>默认情况下，仅支持 eslint 内置的规则，想要激活其他插件规则的自动建议，需要安装该插件的类型文件。</p><p>类型文件可以是插件官方自己提供的，也可以是由社区维护的 <code>@eslint-types</code> 存储库提供的。</p><h2 id="eslint-types" tabindex="-1"><code>eslint-types/*</code> <a class="header-anchor" href="#eslint-types" aria-label="Permalink to &quot;\`eslint-types/*\`&quot;">​</a></h2><p>一个用于为 <code>eslint-define-config</code> 提供类型标注的 monorepo 仓库，地址：<a href="https://github.com/eslint-types/define-config-plugin-types" target="_blank" rel="noreferrer">https://github.com/eslint-types/define-config-plugin-types</a></p><h3 id="用法" tabindex="-1">用法 <a class="header-anchor" href="#用法" aria-label="Permalink to &quot;用法&quot;">​</a></h3><p><em>以<code>eslint-plugin-import</code>插件为例</em></p><p>例如，要在 eslint 中使用<code>eslint-plugin-import</code>插件，为了在配置过程中获得自动建议、配置类型校验等帮助，先安装：</p><ul><li><code>eslint-define-config</code></li><li><code>@eslint-types/import</code>：eslint-plugin-import 插件对应的类型文件</li></ul><p>然后再配置文件中，导入这个类型定义文件</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// @ts-check</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> defineConfig </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">require</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">eslint-define-config</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;</span><span style="color:#F07178;font-style:italic;">reference</span><span style="color:#89DDFF;font-style:italic;"> </span><span style="color:#C792EA;font-style:italic;">types</span><span style="color:#89DDFF;font-style:italic;">=</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#C3E88D;font-style:italic;">@eslint-types/import</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#89DDFF;font-style:italic;"> /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">defineConfig</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h3 id="支持的插件-2024-02" tabindex="-1">支持的插件（2024-02） <a class="header-anchor" href="#支持的插件-2024-02" aria-label="Permalink to &quot;支持的插件（2024-02）&quot;">​</a></h3><p><a href="https://www.npmjs.com/package/@eslint-types/deprecation" target="_blank" rel="noreferrer">@eslint-types/deprecation</a>：eslint-define-config 插件的类型定义</p><p><a href="https://www.npmjs.com/package/@eslint-types/import" target="_blank" rel="noreferrer">@eslint-types/import</a>：eslint-plugin-import 插件</p><p><a href="https://www.npmjs.com/package/@eslint-types/jsdoc" target="_blank" rel="noreferrer">@eslint-types/jsdoc</a>：eslint-plugin-jsdoc 插件</p><p><a href="https://www.npmjs.com/package/@eslint-types/prettier" target="_blank" rel="noreferrer">@eslint-types/prettier</a>：eslint-plugin-prettier 插件</p><p><a href="https://www.npmjs.com/package/@eslint-types/typescript-eslint" target="_blank" rel="noreferrer">@eslint-types/typescript-eslint</a>：@typescript-eslint/eslint-plugin 插件</p><p><a href="https://www.npmjs.com/package/@eslint-types/unicorn" target="_blank" rel="noreferrer">@eslint-types/unicorn</a>：eslint-plugin-unicorn 插件</p><h2 id="antfu-eslint-define-config" tabindex="-1"><code>@antfu/eslint-define-config</code> <a class="header-anchor" href="#antfu-eslint-define-config" aria-label="Permalink to &quot;\`@antfu/eslint-define-config\`&quot;">​</a></h2><p>是 <code>@anfu</code> 在 <code>eslint-define-config</code>基础上创建的一个 fork，用于更好的支持 ESLint 的 Flat Config。进行了以下改变：</p><p>1、插件内置了以下插件的配置类型定义和规则集：</p><ul><li><a href="https://mysticatea.github.io/eslint-plugin-eslint-comments/" target="_blank" rel="noreferrer">eslint-plugin-eslint-comments</a>：ESLint 指令注释的规则</li><li><a href="https://the-guild.dev/graphql/eslint/docs" target="_blank" rel="noreferrer">@graphql-eslint</a>：专用于GraphQL 的 ESLint 解析器、插件、规则集</li><li><a href="https://github.com/import-js/eslint-plugin-import#installation" target="_blank" rel="noreferrer">eslint-plugin-import</a>：</li><li><a href="https://github.com/gajus/eslint-plugin-jsdoc#configuration" target="_blank" rel="noreferrer">eslint-plugin-jsdoc</a></li><li><a href="https://github.com/ota-meshi/eslint-plugin-jsonc#configuration" target="_blank" rel="noreferrer">eslint-plugin-jsonc</a></li><li><a href="https://github.com/jsx-eslint/eslint-plugin-jsx-a11y" target="_blank" rel="noreferrer">eslint-plugin-jsx-a11y</a></li><li><a href="https://github.com/mdx-js/eslint-mdx/tree/master/packages/eslint-plugin-mdx" target="_blank" rel="noreferrer">eslint-plugin-mdx</a></li><li><a href="https://github.com/eslint-community/eslint-plugin-n#-configs" target="_blank" rel="noreferrer">eslint-plugin-n</a></li><li><a href="https://github.com/mysticatea/eslint-plugin-node#-configs" target="_blank" rel="noreferrer">eslint-plugin-node</a></li><li><a href="https://github.com/prettier/eslint-plugin-prettier#recommended-configuration" target="_blank" rel="noreferrer">eslint-plugin-prettier</a></li><li><a href="https://github.com/eslint-community/eslint-plugin-promise#usage" target="_blank" rel="noreferrer">eslint-plugin-promise</a></li><li><a href="https://github.com/jsx-eslint/eslint-plugin-react" target="_blank" rel="noreferrer">eslint-plugin-react</a></li><li><a href="https://github.com/facebook/react/tree/main/packages/eslint-plugin-react-hooks" target="_blank" rel="noreferrer">eslint-plugin-react-hooks</a></li><li><a href="https://github.com/SonarSource/eslint-plugin-sonarjs#available-configurations" target="_blank" rel="noreferrer">eslint-plugin-sonarjs</a></li><li><a href="https://github.com/testing-library/eslint-plugin-testing-library" target="_blank" rel="noreferrer">eslint-plugin-testing-library</a></li><li><a href="https://github.com/sindresorhus/eslint-plugin-unicorn" target="_blank" rel="noreferrer">eslint-plugin-unicorn</a></li><li><a href="https://www.npmjs.com/package/eslint-plugin-vitest" target="_blank" rel="noreferrer">eslint-plugin-vitest</a>：</li><li><a href="https://eslint.vuejs.org/user-guide/#usage" target="_blank" rel="noreferrer">eslint-plugin-vue</a></li><li><a href="https://github.com/rashfael/eslint-plugin-vue-pug#usage" target="_blank" rel="noreferrer">eslint-plugin-vue-pug</a></li><li><a href="https://eslint-plugin-vue-i18n.intlify.dev/started.html" target="_blank" rel="noreferrer">eslint-plugin-vue-i18n</a></li><li><a href="https://typescript-eslint.io/linting/configs#recommended-configurations" target="_blank" rel="noreferrer">typescript-eslint</a></li></ul><p>使用时可以直接导入</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">VitestRules</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">VueRules</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@antfu/eslint-define-config</span><span style="color:#89DDFF;">&#39;</span></span></code></pre></div><p>2、允许覆盖规则</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> pluginVitest </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">eslint-plugin-vitest</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">defineFlatConfig</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">VitestRules</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@antfu/eslint-define-config</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">defineFlatConfig</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">VitestRules</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">/* Strict */</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">true</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">vitest</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> pluginVitest</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// only \`vitest/\` rules are allowed and will be auto-completed</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">vitest/no-async</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">error</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// @ts-expect-error not allowed</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">indent</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">error</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span></code></pre></div><p>3、支持重命名规则前缀</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">RenamePrefix</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">TypeScriptRules</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// { &#39;@typescript-eslint/indent&#39;: &#39;error&#39;, ... }</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@antfu/eslint-define-config</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">RenamedRules</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">RenamePrefix</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">TypeScriptRules</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@typescript-eslint/</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ts/</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// { &#39;ts/indent&#39;: &#39;error&#39;, ... }</span></span></code></pre></div>`,40),p=[t];function o(r,i,c,y,D,F){return n(),l("div",null,p)}const u=s(e,[["render",o]]);export{g as __pageData,u as default};
