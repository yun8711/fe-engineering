import{_ as s,v as n,b as a,R as l}from"./chunks/framework.8277b2e6.js";const d=JSON.parse('{"title":"","description":"","frontmatter":{"outline":"deep","prev":false,"next":false},"headers":[],"relativePath":"docs/prettier/index.md","filePath":"docs/prettier/index.md","lastUpdated":1710644343000}'),p={name:"docs/prettier/index.md"},o=l(`<h1>Prettier 概述</h1><p>v3.2.4（2024-02）</p><h2 id="介绍" tabindex="-1">介绍 <a class="header-anchor" href="#介绍" aria-label="Permalink to &quot;介绍&quot;">​</a></h2><p>Prettier 在 2017 年由 James Long 在 Facebook 内部开发并开源。</p><p>Prettier 是一款代码格式化工具，可以帮助开发者自动化的将代码进行排版和格式化，从而使代码更加易读、易维护，并减少因为格式不一致引起的代码冲突。<br> 它可以支持多种编程语言，如 js、ts、Flow、JSX、JSON、CSS、SCSS、Less、HTML 、Vue、Angular、GraphQL、Markdown、YAML，还可以通过官方或社区维护的插件来支持其他语言</p><h2 id="配置文件" tabindex="-1">配置文件 <a class="header-anchor" href="#配置文件" aria-label="Permalink to &quot;配置文件&quot;">​</a></h2><p>Prettier 会从要格式化的文件的同级目录开始查找配置文件，并在文件树中向上搜索，直到找到配置文件。</p><p>Prettier 不支持任何类型的全局配置，这是为了确保格式的行为保持一致。</p><p>Prettier 支持以下格式的配置文件（按优先级）：</p><ul><li>在 package.json 中设置<code>perttier</code>字段</li><li>用 JSON 或 YAML 编写的 <code>.prettierrc</code> 文件</li><li><code>.prettierrc.yml</code> 、 <code>.prettierrc.json</code> <code>.prettierrc.yaml</code> 或 <code>.prettierrc.json5</code> 文件</li><li><code>.prettierrc.js</code> 或 <code>prettier.config.js</code>文件，使用<code>export default</code> 或 <code>module.exports</code> 导出一个配置对象</li><li><code>.prettierrc.mjs</code> 或 <code>prettier.config.mjs</code>文件，使用<code>export default</code> 导出一个配置对象</li><li><code>.prettierrc.cjs</code> 或 <code>prettier.config.cjs</code>文件，使用<code>module.exports</code> 导出一个配置对象</li><li><code>.prettierrc.toml</code> 文件</li></ul><p>可以在 <a href="https://json.schemastore.org/prettierrc" target="_blank" rel="noreferrer">https://json.schemastore.org/prettierrc</a> 使用 JSON schema 来验证配置。</p><h3 id="配置覆盖" tabindex="-1">配置覆盖 <a class="header-anchor" href="#配置覆盖" aria-label="Permalink to &quot;配置覆盖&quot;">​</a></h3><p>Prettier 借用了 ESLint 的 overrides 的写法，允许对某些文件、目录进行不同的配置。</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">semi</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">false,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">overrides</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">files</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">*.test.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">options</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">semi</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">true</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">files</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">*.html</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">legacy/**/*.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">options</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">tabWidth</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">4</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><ul><li><code>files</code> ：必需， glob 格式的字符串或字符串数组</li><li><code>excludeFiles</code>：可选，glob 格式的字符串或字符串数组，用于排除某些规则的文件</li></ul><h3 id="共享配置" tabindex="-1">共享配置 <a class="header-anchor" href="#共享配置" aria-label="Permalink to &quot;共享配置&quot;">​</a></h3><p>可以把 prettier 的配置文件（导入一个配置对象）发布成一个 npm 包，把配置共享给其他项目。</p><p>在 package.json 中直接使用它，把包名配置在 prettier 字段：</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">my-cool-library</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">9000.0.1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">prettier</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@company/prettier-config</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>如果不使用 package.json，也可以在项目中的 <code>.prettierrc.js</code> 中导入配置，这种方式可以对共享配置进行修改</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">...</span><span style="color:#82AAFF;">require</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@company/prettier-config</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 可以自定义规则对已有规则进行覆盖</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">semi</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div><h3 id="解析器" tabindex="-1">解析器 <a class="header-anchor" href="#解析器" aria-label="Permalink to &quot;解析器&quot;">​</a></h3><p>默认情况下，Prettier 会根据输入文件扩展名自动推断要使用的解析器。通过 parser 字段可以指定解析器，但是一般不要这么做，否则对所有文件都会使用同一种解析器。</p><p>如果想对某些规则的文件指定解析器，需要结合 <code>overrides</code> 来告诉 Prettier 如何解析这些文件。</p><h3 id="editorconfig-配置的影响" tabindex="-1">.editorconfig 配置的影响 <a class="header-anchor" href="#editorconfig-配置的影响" aria-label="Permalink to &quot;.editorconfig 配置的影响&quot;">​</a></h3><p>Prettier 默认会读取项目中 .editorConfig 中的部分配置，并合并到 Prettier 的配置中。</p><p>在 Prettier 的<a href="https://github.com/prettier/prettier/blob/bc0be70cf957edfd77ee2ee0587f49457b86b9ad/src/config/editorconfig/editorconfig-to-prettier.js" target="_blank" rel="noreferrer">源码</a>中做了以下处理（增加了注释）：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 首先判断出 useTabs 的值</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> (editorConfig</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">indent_style) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">result</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">useTabs</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">editorConfig</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">indent_style</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tab</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> (editorConfig</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">indent_size </span><span style="color:#89DDFF;">===</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tab</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">result</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">useTabs</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 判断出 tabWidth</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> (result</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">useTabs </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#BABED8;"> editorConfig</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">tab_width) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">result</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">tabWidth</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">editorConfig</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">tab_width</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> (</span></span>
<span class="line"><span style="color:#BABED8;">    editorConfig</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">indent_style </span><span style="color:#89DDFF;">===</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">space</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&amp;&amp;</span></span>
<span class="line"><span style="color:#BABED8;">    editorConfig</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">indent_size </span><span style="color:#89DDFF;">&amp;&amp;</span></span>
<span class="line"><span style="color:#BABED8;">    editorConfig</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">indent_size </span><span style="color:#89DDFF;">!==</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tab</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#BABED8;">  ) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">result</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">tabWidth</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">editorConfig</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">indent_size</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> (editorConfig</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">tab_width </span><span style="color:#89DDFF;">!==</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">undefined</span><span style="color:#BABED8;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">result</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">tabWidth</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">editorConfig</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">tab_width</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 判断出 printWidth</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> (editorConfig</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">max_line_length) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#BABED8;">editorConfig</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">max_line_length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">off</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">result</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">printWidth</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Number</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">POSITIVE_INFINITY</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">result</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">printWidth</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">editorConfig</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">max_line_length</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">	</span></span>
<span class="line"><span style="color:#89DDFF;">	</span><span style="color:#676E95;font-style:italic;">// 判断出 singleQuote</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> (editorConfig</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">quote_type </span><span style="color:#89DDFF;">===</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">single</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">result</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">singleQuote</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> (editorConfig</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">quote_type </span><span style="color:#89DDFF;">===</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">double</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">result</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">singleQuote</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">	</span><span style="color:#676E95;font-style:italic;">// 判断出 endOfLine</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> ([</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cr</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">crlf</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">lf</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">includes</span><span style="color:#BABED8;">(editorConfig</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">end_of_line)) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">result</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">endOfLine</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">editorConfig</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">end_of_line</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span></code></pre></div><p>总结一下：下面是不同属性如何映射到Prettier行为的注释描述：</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight has-diff"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#BABED8;">*</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 不可配置的Prettier行为</span></span>
<span class="line"><span style="color:#C3E88D;">charset = utf-8</span></span>
<span class="line"><span style="color:#C3E88D;">insert_final_newline = true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Caveat: Prettier won’t trim trailing whitespace inside template strings, but your editor might.</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 警告:Prettier不会修剪模板字符串中的末尾空白，但你的编辑器可能会</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># trim_trailing_whitespace = true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 可配置的Prettier行为</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># (change these if your Prettier config differs)</span></span>
<span class="line"><span style="color:#C3E88D;">end_of_line = lf</span></span>
<span class="line"><span style="color:#C3E88D;">indent_style = space</span></span>
<span class="line"><span style="color:#C3E88D;">indent_size = 2</span></span>
<span class="line"><span style="color:#C3E88D;">max_line_length = 80</span></span></code></pre></div><p>所以，在 Prettier 中，上述的几个配置项是可选的，如果在 <code>.editorConfig</code>中配置了，可以在 Prettier 中省略</p><h2 id="忽略代码" tabindex="-1">忽略代码 <a class="header-anchor" href="#忽略代码" aria-label="Permalink to &quot;忽略代码&quot;">​</a></h2><p>默认情况下，prettier 会忽略版本控制系统目录，如<code>.git</code>、<code>.sl</code>、<code>.svn</code>、<code>.hg</code> 中的文件，和<code>node_modules</code>目录（除非指定<code>--with-node-modules</code> CLI 选项）。如果同级目录下存在 <code>.gitignore</code> 文件，Prettier 也会遵循该文件指定的规则。</p><p>所以，默认情况下，被忽略的文件为：</p><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">**/.git</span></span>
<span class="line"><span style="color:#BABED8;">**/.svn</span></span>
<span class="line"><span style="color:#BABED8;">**/.hg</span></span>
<span class="line"><span style="color:#BABED8;">**/node_modules</span></span></code></pre></div><h3 id="prettierignore-配置" tabindex="-1">prettierignore 配置 <a class="header-anchor" href="#prettierignore-配置" aria-label="Permalink to &quot;prettierignore 配置&quot;">​</a></h3><p>另外，还可以使用<code>.prettierignore</code>文件来声明不需要被检查的目录和文件，它使用 <a href="https://git-scm.com/docs/gitignore#_pattern_format" target="_blank" rel="noreferrer">gitignore syntax</a> 语法：</p><p><em>示例：</em></p><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Ignore artifacts:</span></span>
<span class="line"><span style="color:#BABED8;">build</span></span>
<span class="line"><span style="color:#BABED8;">coverage</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Ignore all HTML files:</span></span>
<span class="line"><span style="color:#BABED8;">**/*.html</span></span></code></pre></div><h3 id="注释" tabindex="-1">注释 <a class="header-anchor" href="#注释" aria-label="Permalink to &quot;注释&quot;">​</a></h3><p>Prettier 提供了一些注释可以让 Prettier 忽略某些代码的格式化：</p><ul><li><code>// prettier-ignore</code>：忽略 AST 中下一节点的格式化</li><li><code>&lt;!-- prettier-ignore-start --&gt;</code>和<code>&lt;!-- prettier-ignore-end --&gt;</code>：用来指定忽略部分</li></ul><p><em>示例</em></p><p><em>js 文件中使用</em></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// prettier-ignore</span></span>
<span class="line"><span style="color:#82AAFF;">matrix</span><span style="color:#BABED8;">(</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#BABED8;">)</span></span></code></pre></div><p><em>jsx 文件中</em></p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">{</span><span style="color:#676E95;font-style:italic;">/* prettier-ignore */</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">     </span><span style="color:#C792EA;">ugly</span><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">format</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">   /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><p><em>html 文件中</em></p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">&lt;!-- prettier-ignore --&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">         </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">x</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">       &gt;</span><span style="color:#BABED8;">hello world</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">            &gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">&lt;!-- prettier-ignore-attribute --&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">(mousedown)</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">       onStart    (    )         </span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">(mouseup)</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">         onEnd      (    )         </span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">&lt;!-- prettier-ignore-attribute (mouseup) --&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">(mousedown)</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onStart()</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">(mouseup)</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">         onEnd      (    )         </span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><p><em>css 文件中</em></p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">/* prettier-ignore */</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">my</span><span style="color:#BABED8;">    ugly rule</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p><em>markdown 文件中</em></p><div class="language-markdown"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">&lt;!-- prettier-ignore --&gt;</span></span>
<span class="line"><span style="color:#BABED8;">Do   not    format   this</span></span></code></pre></div><h2 id="插件" tabindex="-1">插件 <a class="header-anchor" href="#插件" aria-label="Permalink to &quot;插件&quot;">​</a></h2><p>插件系统是 Prettier 实现对新语言或自定义格式化规则支持的方法，Prettier 自身的语言格式化也是通过插件的 API 来实现的。</p><p>prettier 插件的名称一般为<code>prettier-plugin-xxx</code></p><p><strong>用法</strong></p><p>以 prettier-plugin-sql 为例</p><p>首先安装插件：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">pnpm add -D prettier-plugin-sql</span></span></code></pre></div><p>然后将它添加到 plugins 配置中即可：</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">module.export=</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#676E95;font-style:italic;">// ...省略其他配置</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#676E95;font-style:italic;">// 指定插件</span></span>
<span class="line"><span style="color:#BABED8;">	plugins</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span><span style="color:#BABED8;">&#39;prettier-plugin-packagejson&#39;</span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>插件开发查看<a href="https://prettier.io/docs/en/plugins#developing-plugins" target="_blank" rel="noreferrer">官方文档</a></p><h2 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to &quot;示例&quot;">​</a></h2><p><a href="https://github.com/ant-design/ant-design-pro/blob/master/.prettierrc.js" target="_blank" rel="noreferrer">ant-design-pro</a></p><p><a href="https://github.com/ant-design/ant-design/blob/master/.prettierrc" target="_blank" rel="noreferrer">ant-design</a></p><p><a href="https://github.com/vueComponent/ant-design-vue/blob/main/.prettierrc" target="_blank" rel="noreferrer">ant-design-vue</a></p>`,67),e=[o];function t(r,c,D,i,y,F){return n(),a("div",null,e)}const E=s(p,[["render",t]]);export{d as __pageData,E as default};
