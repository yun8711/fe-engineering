<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Nginx 配置示例 | 老刘开发笔记</title>
    <meta name="description" content="分享前端工程配置，探索前端工程最佳实践">
    <link rel="preload stylesheet" href="/fe-engineering/assets/style.a692490b.css" as="style">
    
    <script type="module" src="/fe-engineering/assets/app.497faf72.js"></script>
    <link rel="preload" href="/fe-engineering/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/fe-engineering/assets/chunks/framework.8277b2e6.js">
    <link rel="modulepreload" href="/fe-engineering/assets/chunks/theme.e8bd4481.js">
    <link rel="modulepreload" href="/fe-engineering/assets/full-stack_nginx_example.md.03c19cfb.lean.js">
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-a27d059b><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0e88670c></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0e88670c> Skip to content </a><!--]--><!----><header class="VPNav" data-v-a27d059b data-v-a2d341a4><div class="VPNavBar has-sidebar" data-v-a2d341a4 data-v-ed54c5cc><div class="container" data-v-ed54c5cc><div class="title" data-v-ed54c5cc><div class="VPNavBarTitle has-sidebar" data-v-ed54c5cc data-v-d95597e9><a class="title" href="/fe-engineering/" data-v-d95597e9><!--[--><!--]--><!----><!--[-->老刘开发笔记<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-ed54c5cc><div class="curtain" data-v-ed54c5cc></div><div class="content-body" data-v-ed54c5cc><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-ed54c5cc><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-ed54c5cc data-v-658ddbd1><span id="main-nav-aria-label" class="visually-hidden" data-v-658ddbd1>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/fe-engineering/general/text-format" tabindex="0" data-v-658ddbd1 data-v-552899e9><!--[-->综合知识<!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-658ddbd1 data-v-5944de3a><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-5944de3a><span class="text" data-v-5944de3a><!----> 前端 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-5944de3a><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-5944de3a><div class="VPMenu" data-v-5944de3a data-v-61426c1a><div class="items" data-v-61426c1a><!--[--><!--[--><div class="VPMenuLink" data-v-61426c1a data-v-18383e03><a class="VPLink link" href="/fe-engineering/docs/catalogue" data-v-18383e03><!--[-->工程配置<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-658ddbd1 data-v-5944de3a><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-5944de3a><span class="text" data-v-5944de3a><!----> 大前端 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-5944de3a><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-5944de3a><div class="VPMenu" data-v-5944de3a data-v-61426c1a><div class="items" data-v-61426c1a><!--[--><!--[--><div class="VPMenuLink" data-v-61426c1a data-v-18383e03><a class="VPLink link" href="/fe-engineering/pkgs/" data-v-18383e03><!--[-->库收集<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-61426c1a data-v-18383e03><a class="VPLink link" href="/fe-engineering/nest/basic/" data-v-18383e03><!--[-->Nestjs<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-658ddbd1 data-v-5944de3a><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-5944de3a><span class="text" data-v-5944de3a><!----> 全栈 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-5944de3a><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-5944de3a><div class="VPMenu" data-v-5944de3a data-v-61426c1a><div class="items" data-v-61426c1a><!--[--><!--[--><div class="VPMenuLink" data-v-61426c1a data-v-18383e03><a class="VPLink link" href="/fe-engineering/full-stack/nginx/" data-v-18383e03><!--[-->Nginx<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-ed54c5cc data-v-1d314bdf><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-1d314bdf data-v-6599c5ba data-v-cf7f8ab8><span class="check" data-v-cf7f8ab8><span class="icon" data-v-cf7f8ab8><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-6599c5ba><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-6599c5ba><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-ed54c5cc data-v-e04540dc data-v-9f3f149d><!--[--><a class="VPSocialLink no-icon" href="https://github.com/yun8711/fe-configuration.git" aria-label="github" target="_blank" rel="noopener" data-v-9f3f149d data-v-bcfd26a4><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-ed54c5cc data-v-2a309069 data-v-5944de3a><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-5944de3a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-5944de3a><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-5944de3a><div class="VPMenu" data-v-5944de3a data-v-61426c1a><!----><!--[--><!--[--><!----><div class="group" data-v-2a309069><div class="item appearance" data-v-2a309069><p class="label" data-v-2a309069>Appearance</p><div class="appearance-action" data-v-2a309069><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-2a309069 data-v-6599c5ba data-v-cf7f8ab8><span class="check" data-v-cf7f8ab8><span class="icon" data-v-cf7f8ab8><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-6599c5ba><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-6599c5ba><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-2a309069><div class="item social-links" data-v-2a309069><div class="VPSocialLinks social-links-list" data-v-2a309069 data-v-9f3f149d><!--[--><a class="VPSocialLink no-icon" href="https://github.com/yun8711/fe-configuration.git" aria-label="github" target="_blank" rel="noopener" data-v-9f3f149d data-v-bcfd26a4><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-ed54c5cc data-v-f9bfebba><span class="container" data-v-f9bfebba><span class="top" data-v-f9bfebba></span><span class="middle" data-v-f9bfebba></span><span class="bottom" data-v-f9bfebba></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-a27d059b data-v-1b22ceb8><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-1b22ceb8><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-1b22ceb8><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-1b22ceb8>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-1b22ceb8 data-v-844a0dd3><button data-v-844a0dd3>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-a27d059b data-v-b9a869cd><div class="curtain" data-v-b9a869cd></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-b9a869cd><span class="visually-hidden" id="sidebar-aria-label" data-v-b9a869cd> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-b9a869cd><section class="VPSidebarItem level-0 has-active" data-v-b9a869cd data-v-f572e93b><!----><div class="items" data-v-f572e93b><!--[--><section class="VPSidebarItem level-1 collapsible is-link has-active" data-v-f572e93b data-v-f572e93b><div class="item" tabindex="0" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><a class="VPLink link link" href="/fe-engineering/full-stack/nginx/" data-v-f572e93b><!--[--><h3 class="text" data-v-f572e93b>Nginx</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-f572e93b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-f572e93b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-f572e93b><!--[--><div class="VPSidebarItem level-2 is-link" data-v-f572e93b data-v-f572e93b><div class="item" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><a class="VPLink link link" href="/fe-engineering/full-stack/nginx/" data-v-f572e93b><!--[--><p class="text" data-v-f572e93b>概述</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f572e93b data-v-f572e93b><div class="item" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><a class="VPLink link link" href="/fe-engineering/full-stack/nginx/config" data-v-f572e93b><!--[--><p class="text" data-v-f572e93b>配置文件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link is-active has-active" data-v-f572e93b data-v-f572e93b><div class="item" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><a class="VPLink link link" href="/fe-engineering/full-stack/nginx/example" data-v-f572e93b><!--[--><p class="text" data-v-f572e93b>配置示例</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-a27d059b data-v-cd6d025a><div class="VPDoc has-sidebar has-aside" data-v-cd6d025a data-v-f6898342><!--[--><!--]--><div class="container" data-v-f6898342><div class="aside" data-v-f6898342><div class="aside-curtain" data-v-f6898342></div><div class="aside-container" data-v-f6898342><div class="aside-content" data-v-f6898342><div class="VPDocAside" data-v-f6898342 data-v-7c04432f><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-7c04432f data-v-a85a0d0e><div class="content" data-v-a85a0d0e><div class="outline-marker" data-v-a85a0d0e></div><div class="outline-title" data-v-a85a0d0e>内容大纲</div><nav aria-labelledby="doc-outline-aria-label" data-v-a85a0d0e><span class="visually-hidden" id="doc-outline-aria-label" data-v-a85a0d0e> Table of Contents for current page </span><ul class="root" data-v-a85a0d0e data-v-98529afd><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-7c04432f></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-f6898342><div class="content-container" data-v-f6898342><!--[--><!--]--><!----><main class="main" data-v-f6898342><div style="position:relative;" class="vp-doc _fe-engineering_full-stack_nginx_example" data-v-f6898342><div><h1 id="nginx-配置示例" tabindex="-1">Nginx 配置示例 <a class="header-anchor" href="#nginx-配置示例" aria-label="Permalink to &quot;Nginx 配置示例&quot;">​</a></h1><h2 id="正向代理" tabindex="-1">正向代理 <a class="header-anchor" href="#正向代理" aria-label="Permalink to &quot;正向代理&quot;">​</a></h2><p>一般的访问流程是客户端直接向目标服务器发送请求并获取内容，使用正向代理后，客户端改为向代理服务器发送请求，并指定目标服务器（原始服务器），然后由代理服务器和原始服务器通信，转交请求并获得内容，再返回给客户端。</p><p>正向代理的<strong>代理对象是客户端</strong>，即替客户端去访问目标服务器，使真实客户端对服务器不可见；</p><p>比如 VPN，你的浏览器无法直接访问谷歌，这时候可以通过一个代理服务器来帮助你访问谷哥，那么这个服务器就叫正向代理。</p><p><img src="/fe-engineering/assets/nginx02.30799f1a.png" alt="正向代理原理图"></p><p><em>示例</em></p><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">server {</span></span>
<span class="line"><span style="color:#89DDFF;">	  </span><span style="color:#676E95;font-style:italic;"># 指定DNS服务器IP地址 </span></span>
<span class="line"><span style="color:#BABED8;">    resolver 8.8.8.8</span><span style="color:#676E95;font-style:italic;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;"># 监听浏览器请求的端口号</span></span>
<span class="line"><span style="color:#BABED8;">    listen 80</span><span style="color:#676E95;font-style:italic;">;</span></span>
<span class="line"><span style="color:#89DDFF;">		</span><span style="color:#676E95;font-style:italic;"># 接收到被代理浏览器发来的请求之后，需要执行的请求是什么</span></span>
<span class="line"><span style="color:#BABED8;">    location / {</span></span>
<span class="line"><span style="color:#89DDFF;">    		</span><span style="color:#676E95;font-style:italic;"># 指明目的主机和uri，一般不需要修改</span></span>
<span class="line"><span style="color:#BABED8;">        proxy_pass http://$http_host$request_uri</span><span style="color:#676E95;font-style:italic;">;</span></span>
<span class="line"><span style="color:#BABED8;">    }</span></span>
<span class="line"><span style="color:#BABED8;">}</span></span></code></pre></div><p>在需要访问外网的客户端上执行以下一种操作即可：</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">1.</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">方法1（推荐）</span></span>
<span class="line"><span style="color:#C792EA;">export</span><span style="color:#BABED8;"> http_proxy</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">http://你的正向代理服务器地址：代理端口</span><span style="color:#BABED8;">   </span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">2.</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">方法2</span></span>
<span class="line"><span style="color:#FFCB6B;">vim</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">~/.bashrc</span></span>
<span class="line"><span style="color:#C792EA;">export</span><span style="color:#BABED8;"> http_proxy</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">http://你的正向代理服务器地址：代理端口</span></span></code></pre></div><p>然后在客户端（浏览器）中访问 <code>https://www.google.com</code>时，不再是直接去访问该地址，它会被代理服务器“劫持”，代理服务器按照 server 中的配置重新请求，并返回请求到的内容</p><h2 id="反向代理" tabindex="-1">反向代理 <a class="header-anchor" href="#反向代理" aria-label="Permalink to &quot;反向代理&quot;">​</a></h2><p>与一般访问流程相比，使用反向代理后，直接收到请求的服务器是代理服务器，然后将请求转发给内部网络上真正进行处理的服务器，得到结果再返回给客户端。反向代理<strong>隐藏了真实的服务器</strong>，为服务器收发请求，使真实服务器对客户端不可见。一般在处理跨域请求的时候比较常用。现在基本上所有的大型网站都设置了反向代理。</p><p>反向代理指代理后端服务器响应客户端请求的一个中介服务器，代理的对象是服务端。</p><p><img src="/fe-engineering/assets/nginx03.482b4c71.png" alt="反向代理原理图"></p><p>简单的说，一般<strong>给客户端做代理的都是正向代理，给服务器做代理的就是反向代理</strong>。</p><p><em>示例 1：浏览器访问时，从 nginx 服务器跳转到 linux 系统 tomcat 主页面</em></p><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">server {</span></span>
<span class="line"><span style="color:#BABED8;">        listen       80</span><span style="color:#676E95;font-style:italic;">; </span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">#监听地址</span></span>
<span class="line"><span style="color:#BABED8;">        server_name  192.168.4.32</span><span style="color:#676E95;font-style:italic;">;   </span></span>
<span class="line"><span style="color:#BABED8;">   </span></span>
<span class="line"><span style="color:#BABED8;">        location  / { </span></span>
<span class="line"><span style="color:#89DDFF;">        	 </span><span style="color:#676E95;font-style:italic;"># 请求资源的根目录</span></span>
<span class="line"><span style="color:#BABED8;">           root html</span><span style="color:#676E95;font-style:italic;">;  </span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;"># 请求转向</span></span>
<span class="line"><span style="color:#BABED8;">           proxy_pass http://127.0.0.1:8080</span><span style="color:#676E95;font-style:italic;">; </span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;"># 设置默认页</span></span>
<span class="line"><span style="color:#BABED8;">           index  index.html index.htm</span><span style="color:#676E95;font-style:italic;">;             </span></span>
<span class="line"><span style="color:#BABED8;">        } </span></span>
<span class="line"><span style="color:#BABED8;">    }</span></span></code></pre></div><p><em>示例 2：根据输入的路径不同，跳转到不同端口的服务中</em></p><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">server {</span></span>
<span class="line"><span style="color:#BABED8;">        listen       9000</span><span style="color:#676E95;font-style:italic;">;   </span></span>
<span class="line"><span style="color:#BABED8;">        server_name  192.168.4.32</span><span style="color:#676E95;font-style:italic;">;   #监听地址       </span></span>
<span class="line"><span style="color:#BABED8;">        </span></span>
<span class="line"><span style="color:#BABED8;">        location  ~ /example1/ {  </span></span>
<span class="line"><span style="color:#BABED8;">           proxy_pass http://127.0.0.1:5000</span><span style="color:#676E95;font-style:italic;">;         </span></span>
<span class="line"><span style="color:#BABED8;">        } </span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">        location  ~ /example2/ {  </span></span>
<span class="line"><span style="color:#BABED8;">           proxy_pass http://127.0.0.1:8080</span><span style="color:#676E95;font-style:italic;">;         </span></span>
<span class="line"><span style="color:#BABED8;">        } </span></span>
<span class="line"><span style="color:#BABED8;">    }</span></span></code></pre></div><p>注意：<code>location ~ /example2/</code>表示访问 <code>192.168.4.32/example2</code> 时会被转发到 <code>http://127.0.0.1:8080;</code>对应的服务上，在项目中，必须有全局前缀 <code>/example2/</code>，否则访问不到项目中，这个配置有点像前端构建时的 publicPath 选项。</p><h2 id="负载均衡" tabindex="-1">负载均衡 <a class="header-anchor" href="#负载均衡" aria-label="Permalink to &quot;负载均衡&quot;">​</a></h2><p>负载均衡是一种技术，可以在多个服务器之间分配网络流量，以提高网站、应用、数据库或其他服务的性能、可靠性和可扩展性。负载均衡的主要目标是<strong>优化资源使用，最大化吞吐量，最小化响应时间，同时避免任何单一资源的过载</strong>。</p><p>实现负载均衡的方式：</p><ul><li>硬件负载均衡：一种专用的硬件，如负载均衡器，用于分发网络流量到多个服务器。硬件负载均衡器通常具有<strong>高性能和高可用性，但成本较高</strong></li><li>软件负载均衡：一种在服务器上运行的软件，可以将网络流量分发到多个服务器。软件负载均衡器的优点是<strong>成本较低，灵活性高</strong>，可以根据需要轻松扩展</li></ul><p>负载均衡的主要算法包括：</p><ul><li>轮询（Round Robin）：每个请求按顺序轮流分配到服务器上，如果服务器列表到达末尾，则重新开始。它均衡的对待后端的每一台服务器，而不关心服务器实际的连接数和当前的系统负载</li><li>加权轮询（Weighted Round Robin）：不同的后端服务器可能机器的配置和当前系统的负载并不相同，因此它们的抗压能力也不相同。可以给每一台后端预设一个权重，轮询的时候，高权重的服务器处理更多的请求，低权重的服务器处理少的请求</li><li>最少连接（Least Connections）：动态地根据后端服务器的当前连接情况，将新的请求分配到当前连接数最少的服务器上</li><li>fire：基于队列的负载均衡算法，主要用于处理那些处理时间不确定的请求。在这种算法中，每个后端服务器都有一个队列，新的请求会被放到队列最短的服务器上。这样可以保证每个服务器的负载都比较均衡，而不会出现某个服务器的队列特别长，而其他服务器的队列却很短的情况。这种算法比较适合处理那些处理时间不确定，且请求之间没有依赖关系的场景。</li><li>IP哈希（IP Hash）：将获取客户端IP地址的 hash 分配，每一次请求都会定向到一台固定的服务器上，这样来自同一IP地址的请求总是会发送到同一台服务器，可以解决session的问题</li></ul><p><strong>fire 算法和 最少连接算法</strong>比较相似，都是尝试将新的请求分配给当前负载较轻的服务器，但是它们的实现方式和适用场景有所不同：</p><ul><li>最少连接算法是将新的请求分配给当前<strong>连接数最少</strong>的服务器，适用于处理请求处理时间相对固定，且请求之间没有强依赖关系的场景。</li><li>&quot;fair&quot;算法则是将新的请求分配给<strong>队列最短</strong>的服务器，适用于处理请求处理时间不确定，且请求之间没有依赖关系的场景。</li></ul><p>在Nginx中，负载均衡通常是通过将请求转发给服务器集群来实现的。这样，当请求量爆发式增长时，单个服务器的性能无法满足需求，可以使用多个服务器，然后将请求分发到各个服务器上，将负载分发到不同的服务器，这就是负载均衡的核心思想，即<strong>分摊压力</strong>。</p><p><em>示例</em></p><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">http {</span></span>
<span class="line"><span style="color:#BABED8;">    upstream backend {</span></span>
<span class="line"><span style="color:#89DDFF;">    		</span><span style="color:#676E95;font-style:italic;"># 负载均衡算法（选择其中一种）</span></span>
<span class="line"><span style="color:#89DDFF;">    		</span><span style="color:#676E95;font-style:italic;"># least_conn; # 最小连接数算法</span></span>
<span class="line"><span style="color:#89DDFF;">    		</span><span style="color:#676E95;font-style:italic;"># ip_hash;  # ip hash算法</span></span>
<span class="line"><span style="color:#89DDFF;">    		</span><span style="color:#676E95;font-style:italic;"># hash $request_uri; # Generic Hash，使用 uri 作为 hash 的 key</span></span>
<span class="line"><span style="color:#89DDFF;">    		</span><span style="color:#676E95;font-style:italic;"># 定义后端服务器列表</span></span>
<span class="line"><span style="color:#BABED8;">        server 192.167.4.32:5000</span><span style="color:#676E95;font-style:italic;">; weight=3; # 加权轮询算法时，增加权重参数</span></span>
<span class="line"><span style="color:#BABED8;">        server 192.168.4.32:8080</span><span style="color:#676E95;font-style:italic;">;</span></span>
<span class="line"><span style="color:#BABED8;">        server 192.168.4.32:8081</span><span style="color:#676E95;font-style:italic;">;</span></span>
<span class="line"><span style="color:#BABED8;">        </span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;"># 其他可选参数</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;"># max_fails=3 fail_timeout=30s; # 用于故障处理</span></span>
<span class="line"><span style="color:#BABED8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    server {</span></span>
<span class="line"><span style="color:#BABED8;">        location / {</span></span>
<span class="line"><span style="color:#BABED8;">            proxy_pass http://backend</span><span style="color:#676E95;font-style:italic;">;</span></span>
<span class="line"><span style="color:#BABED8;">        }</span></span>
<span class="line"><span style="color:#BABED8;">    }</span></span>
<span class="line"><span style="color:#BABED8;">}</span></span></code></pre></div><h2 id="动静分离" tabindex="-1">动静分离 <a class="header-anchor" href="#动静分离" aria-label="Permalink to &quot;动静分离&quot;">​</a></h2><p>为了加快网站的解析速度，可以把静态页面和动态页面由不同的服务器来解析，加快解析速度，降低原来单个服务器的压力。</p><p><img src="/fe-engineering/assets/nginx04.80fa0969.png" alt="动静分离原理图"></p><p><em>示例</em></p><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">upstream static {   </span></span>
<span class="line"><span style="color:#BABED8;">    server 192.167.4.31:80</span><span style="color:#676E95;font-style:italic;">;</span></span>
<span class="line"><span style="color:#BABED8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">upstream dynamic {   </span></span>
<span class="line"><span style="color:#BABED8;">    server 192.167.4.32:8080</span><span style="color:#676E95;font-style:italic;">;</span></span>
<span class="line"><span style="color:#BABED8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">server {</span></span>
<span class="line"><span style="color:#BABED8;">    listen       80</span><span style="color:#676E95;font-style:italic;">;   #监听端口</span></span>
<span class="line"><span style="color:#BABED8;">    server_name  www.abc.com</span><span style="color:#676E95;font-style:italic;">; 监听地址</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;"># 拦截动态资源</span></span>
<span class="line"><span style="color:#BABED8;">    location ~ .*\.(php|jsp)$ {</span></span>
<span class="line"><span style="color:#BABED8;">       proxy_pass http://dynamic</span><span style="color:#676E95;font-style:italic;">;</span></span>
<span class="line"><span style="color:#BABED8;">    }</span></span>
<span class="line"><span style="color:#BABED8;">   </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;"># 拦截静态资源</span></span>
<span class="line"><span style="color:#BABED8;">    location ~ .*\.(jpg|png|htm|html|css|js)$ {       </span></span>
<span class="line"><span style="color:#BABED8;">       root /data/</span><span style="color:#676E95;font-style:italic;">;  #html目录</span></span>
<span class="line"><span style="color:#BABED8;">       proxy_pass http://static</span><span style="color:#676E95;font-style:italic;">;</span></span>
<span class="line"><span style="color:#BABED8;">       autoindex on</span><span style="color:#676E95;font-style:italic;">;;  #自动打开文件列表</span></span>
<span class="line"><span style="color:#BABED8;">    }  </span></span>
<span class="line"><span style="color:#BABED8;">}</span></span></code></pre></div><h2 id="缓存服务" tabindex="-1">缓存服务 <a class="header-anchor" href="#缓存服务" aria-label="Permalink to &quot;缓存服务&quot;">​</a></h2><p>Nginx 的缓存服务主要用于提高网站的性能和可用性。它的主要作用如下：</p><ul><li>提高响应速度：通过将请求的结果存储在缓存中，当相同的请求再次到来时，可以直接从缓存中获取结果，而不需要再次向后端服务器请求。这样可以大大提高响应速度，提升用户体验</li><li>减轻后端服务器的压力：由于许多请求可以直接从缓存中获取结果，因此可以减少对后端服务器的请求，从而减轻后端服务器的压力</li><li>提高网站的可用性：当后端服务器出现故障时，如果请求的结果在缓存中存在，Nginx 仍然可以从缓存中获取结果并返回给用户，从而提高网站的可用性</li><li>节省网络带宽：通过缓存静态资源，如图片、CSS、JavaScript 文件等，可以减少这些资源的重复传输，从而节省网络带宽</li></ul><p><em>示例：静态资源缓存，接口的动态内容不缓存</em></p><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">http {</span></span>
<span class="line"><span style="color:#BABED8;">    proxy_cache_path /path/to/cache </span><span style="color:#F07178;">levels</span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;">1:2 </span><span style="color:#F07178;">keys_zone</span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;">my_cache:10m </span><span style="color:#F07178;">max_size</span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;">10g </span><span style="color:#F07178;">inactive</span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;">60m </span><span style="color:#F07178;">use_temp_path</span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;">off</span><span style="color:#676E95;font-style:italic;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    server {</span></span>
<span class="line"><span style="color:#BABED8;">        listen 80</span><span style="color:#676E95;font-style:italic;">;</span></span>
<span class="line"><span style="color:#BABED8;">        server_name mywebsite.com</span><span style="color:#676E95;font-style:italic;">;</span></span>
<span class="line"><span style="color:#BABED8;">        </span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;"># 静态资源的 location</span></span>
<span class="line"><span style="color:#BABED8;">        location ~* \.(jpg|jpeg|png|gif|ico|css|js)$ {</span></span>
<span class="line"><span style="color:#BABED8;">            proxy_cache my_cache</span><span style="color:#676E95;font-style:italic;">;</span></span>
<span class="line"><span style="color:#BABED8;">            proxy_pass http://backend</span><span style="color:#676E95;font-style:italic;">;</span></span>
<span class="line"><span style="color:#89DDFF;">            </span><span style="color:#676E95;font-style:italic;"># 对 200、302状态码缓存60分钟</span></span>
<span class="line"><span style="color:#BABED8;">            proxy_cache_valid 200 302 60m</span><span style="color:#676E95;font-style:italic;">;</span></span>
<span class="line"><span style="color:#89DDFF;">            </span><span style="color:#676E95;font-style:italic;"># 缓存1分钟</span></span>
<span class="line"><span style="color:#BABED8;">            proxy_cache_valid 404 1m</span><span style="color:#676E95;font-style:italic;">;</span></span>
<span class="line"><span style="color:#BABED8;">            </span></span>
<span class="line"><span style="color:#BABED8;">            proxy_cache_use_stale error timeout updating http_500 http_502 http_503 http_504</span><span style="color:#676E95;font-style:italic;">;</span></span>
<span class="line"><span style="color:#BABED8;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;"># 动态接口的 location</span></span>
<span class="line"><span style="color:#BABED8;">        location /api/ {</span></span>
<span class="line"><span style="color:#BABED8;">            proxy_pass http://backend</span><span style="color:#676E95;font-style:italic;">;</span></span>
<span class="line"><span style="color:#BABED8;">            proxy_no_cache 1</span><span style="color:#676E95;font-style:italic;">;</span></span>
<span class="line"><span style="color:#BABED8;">            proxy_cache_bypass 1</span><span style="color:#676E95;font-style:italic;">;</span></span>
<span class="line"><span style="color:#BABED8;">        }</span></span>
<span class="line"><span style="color:#BABED8;">    }</span></span>
<span class="line"><span style="color:#BABED8;">}</span></span></code></pre></div><p><code>proxy_cache_path</code>指令用于定义缓存路径及其相关参数。在这个例子中：</p><ul><li><code>/path/to/cache</code>是缓存存储的实际文件系统路径。</li><li><code>levels=1:2</code>定义了目录结构的层次</li><li><code>keys_zone=my_cache:10m</code>为缓存设置一个共享内存区域，其中<code>my_cache</code>是缓存的名字，<code>10m</code>是共享内存区域的大小</li><li><code>max_size=10g</code>设置了缓存的最大大小为10GB</li><li><code>inactive=60m</code>表示缓存中的数据在60分钟内没有被访问时被认为是不活跃的</li><li><code>use_temp_path=off</code>禁用在临时路径上创建临时文件</li></ul><p>在<code>location /</code>块中，使用<code>proxy_cache</code>指令启用缓存，并使用<code>proxy_cache_valid</code>指令定义了不同HTTP响应码的缓存有效时间。<code>proxy_cache_use_stale</code>指令用于在更新缓存时允许使用旧的缓存数据，即使后端服务器暂时不可用。</p><p><strong>强制缓存</strong></p><p>使用 expires 指令来设置强制缓存的有效期。</p><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">location ~* \.(jpg|jpeg|png|gif|ico)$ {</span></span>
<span class="line"><span style="color:#BABED8;">    expires 30d</span><span style="color:#676E95;font-style:italic;">;</span></span>
<span class="line"><span style="color:#BABED8;">}</span></span></code></pre></div><p><strong>协商缓存</strong></p><p>可以使用 add_header 指令来添加 ETag 或 Last-Modified 头部，这两个头部是协商缓存的关键。</p><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">location ~* \.(css|js)$ {</span></span>
<span class="line"><span style="color:#BABED8;">    add_header ETag </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#676E95;font-style:italic;">;</span></span>
<span class="line"><span style="color:#BABED8;">}</span></span></code></pre></div><h2 id="高可用" tabindex="-1">高可用 <a class="header-anchor" href="#高可用" aria-label="Permalink to &quot;高可用&quot;">​</a></h2><p>一般情况下，通过 nginx 主服务器访问后台目标服务集群，当主服务器挂掉后，自动切换至备份服务器，此时由备份服务器充当主服务器的角色，访问后端目标服务器。</p><p>1、在两台主备 nginx 服务器上安装 keepalived</p><p>keepalived 相当于一个路由，它通过一个脚本来检测当前服务器是否还活着，如果还活着则继续访问，否则就切换到另一台备份服务器。</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 安装 keepalived</span></span>
<span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">install</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">keepalived</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-y</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 检查版本</span></span>
<span class="line"><span style="color:#FFCB6B;">rpm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-q</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">keepalived</span></span>
<span class="line"><span style="color:#FFCB6B;">keepalived-1.3.5-16.el7.x86_64</span></span></code></pre></div><p>2、修改主备服务器 /etc/keepalived/keepalivec.conf 配置文件（可直接替换），完成高可用主从配置。 keepalived 将 nginx 服务器绑定到一个虚拟 ip ， nginx 高可用集群对外统一暴露这个虚拟 ip，客户端都是通过访问这个虚拟 ip 来访问 nginx 服务器</p><div class="language-perl"><button title="Copy Code" class="copy"></button><span class="lang">perl</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">global_defs {</span></span>
<span class="line"><span style="color:#BABED8;">    notification_email {</span></span>
<span class="line"><span style="color:#BABED8;">        acassen</span><span style="color:#89DDFF;">@</span><span style="color:#BABED8;">firewall.loc</span></span>
<span class="line"><span style="color:#BABED8;">        failover</span><span style="color:#89DDFF;">@</span><span style="color:#BABED8;">firewall.loc</span></span>
<span class="line"><span style="color:#BABED8;">        sysadmin</span><span style="color:#89DDFF;">@</span><span style="color:#BABED8;">firewall.loc</span></span>
<span class="line"><span style="color:#BABED8;">    }</span></span>
<span class="line"><span style="color:#BABED8;">    notification_email_from_Alexandre.Cassen</span><span style="color:#89DDFF;">@</span><span style="color:#BABED8;">firewall.loc</span></span>
<span class="line"><span style="color:#BABED8;">    smtp_server 192.168.4.32</span></span>
<span class="line"><span style="color:#BABED8;">    smtp_connect_timeout 30</span></span>
<span class="line"><span style="color:#BABED8;">    router_id LVS_DEVEL  </span><span style="color:#676E95;font-style:italic;"># 在 /etc/hosts 文件中配置，通过它能访问到我们的主机</span></span>
<span class="line"><span style="color:#BABED8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">vrrp_script_chk_http_port {   </span></span>
<span class="line"><span style="color:#BABED8;">    script </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/usr/local/src/nginx_check.sh</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    interval 2      </span><span style="color:#676E95;font-style:italic;"># 检测脚本执行的时间间隔</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    weight 2        </span><span style="color:#676E95;font-style:italic;"># 权重每次加2</span></span>
<span class="line"><span style="color:#BABED8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">vrrp_instance VI_1 {</span></span>
<span class="line"><span style="color:#BABED8;">    interface ens7f0 </span><span style="color:#676E95;font-style:italic;"># 网卡，需根据情况修改</span></span>
<span class="line"><span style="color:#BABED8;">    state MASTER    </span><span style="color:#676E95;font-style:italic;"># 备份服务器上将 MASTER 改为 BACKUP</span></span>
<span class="line"><span style="color:#BABED8;">    virtual_router_id 51 </span><span style="color:#676E95;font-style:italic;"># 主备机的 virtual_router_id 必须相同</span></span>
<span class="line"><span style="color:#BABED8;">    priority 100   </span><span style="color:#676E95;font-style:italic;"># 主备机取不同的优先级，主机值较大，备份机值较小</span></span>
<span class="line"><span style="color:#BABED8;">    advert_int 1  </span><span style="color:#676E95;font-style:italic;"># 每隔多长时间（默认1s）发送一次心跳，检测服务器是否还活着</span></span>
<span class="line"><span style="color:#BABED8;">    authentication {</span></span>
<span class="line"><span style="color:#BABED8;">      auth_type PASS</span></span>
<span class="line"><span style="color:#BABED8;">      auth_pass 1111</span></span>
<span class="line"><span style="color:#BABED8;">    }</span></span>
<span class="line"><span style="color:#BABED8;">    virtual_ipaddress {</span></span>
<span class="line"><span style="color:#BABED8;">        192.168.1.100 </span><span style="color:#676E95;font-style:italic;"># VRRP H 虚拟地址，可以绑定多个</span></span>
<span class="line"><span style="color:#BABED8;">    }</span></span>
<span class="line"><span style="color:#BABED8;">}</span></span></code></pre></div><p>字段说明：</p><ul><li>router_id：在 /etc/hosts 文件中配置，通过它能访问到我们的主机</li><li>interval：设置脚本执行的间隔时间</li><li>weight：当脚本执行失败即 keepalived 或 nginx 挂掉时，权重增加的值（可为负数）</li><li>interface：输入 <code>ifconfig</code> 命令查看当前的网卡名是什么</li></ul><p>3、在 <code>/usr/local/src</code> 目录下添加检测脚本 <code>nginx_check.sh</code></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">#!/bin/bash</span></span>
<span class="line"><span style="color:#BABED8;">A</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">`</span><span style="color:#FFCB6B;">ps</span><span style="color:#C3E88D;"> -C nginx -no-header </span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">wc</span><span style="color:#C3E88D;"> -l</span><span style="color:#89DDFF;">`</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span><span style="color:#BABED8;"> $A </span><span style="color:#89DDFF;">-eq</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">];</span><span style="color:#89DDFF;font-style:italic;">then</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">/usr/local/nginx/sbin/nginx</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">sleep</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span><span style="color:#BABED8;"> ps -C nginx -no-header </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;">wc -l</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;"> </span><span style="color:#FFCB6B;">-eq</span><span style="color:#C3E88D;"> </span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;"> ]</span><span style="color:#89DDFF;">;</span><span style="color:#89DDFF;font-style:italic;">then</span></span>
<span class="line"><span style="color:#C3E88D;">        </span><span style="color:#FFCB6B;">killall</span><span style="color:#C3E88D;"> keepalived</span></span>
<span class="line"><span style="color:#C3E88D;">    </span><span style="color:#89DDFF;font-style:italic;">fi</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">fi</span></span></code></pre></div><p>4、启动两台服务器的 nginx 和 keepalived</p><h2 id="https" tabindex="-1">HTTPS <a class="header-anchor" href="#https" aria-label="Permalink to &quot;HTTPS&quot;">​</a></h2></div></div></main><footer class="VPDocFooter" data-v-f6898342 data-v-eebaa464><!--[--><!--]--><div class="edit-info" data-v-eebaa464><!----><div class="last-updated" data-v-eebaa464><p class="VPLastUpdated" data-v-eebaa464 data-v-9f8fb174>最后更新于: <time datetime="2024-03-13T05:59:34.000Z" data-v-9f8fb174></time></p></div></div><nav class="prev-next" data-v-eebaa464><div class="pager" data-v-eebaa464><a class="pager-link prev" href="/fe-engineering/full-stack/nginx/config" data-v-eebaa464><span class="desc" data-v-eebaa464>上一页</span><span class="title" data-v-eebaa464>配置文件</span></a></div><div class="pager" data-v-eebaa464><!----></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"docs_changelog_attachment-rule-name.md\":\"f140bb5b\",\"docs_catalogue.md\":\"a133770c\",\"docs_changelog_conventional-changelog.md\":\"b94575d6\",\"docs_changelog_commitlint.md\":\"6dfe5286\",\"docs_browserslist.md\":\"df71ec2a\",\"docs_eslint_babel-eslint-parser.md\":\"53975897\",\"docs_changelog_release-it-example.md\":\"f6bf69f7\",\"docs_stylelint_index.md\":\"1b81fde3\",\"docs_prettier_index.md\":\"6bd72bc1\",\"docs_eslint_eslint-plugin-vue.md\":\"ded13511\",\"docs_typescript_jsconfig.md\":\"3b7f44e8\",\"docs_editorconfig.md\":\"98c71021\",\"full-stack_nginx_example.md\":\"03c19cfb\",\"nest_basic_nest-cli.md\":\"14b0ad31\",\"pkgs_escape-html.md\":\"c987945c\",\"docs_github_github-actions.md\":\"e5172636\",\"docs_eslint_typescript-eslint.md\":\"1f78c037\",\"docs_lerna_index.md\":\"0e5d11ce\",\"docs_husky.md\":\"c28a4216\",\"docs_lint-staged.md\":\"7ed90d06\",\"docs_ls-lint.md\":\"44e7edd0\",\"docs_changelog_czg.md\":\"076389ef\",\"docs_markdownlint.md\":\"645c84d0\",\"docs_github_github-pages.md\":\"ea5ba53c\",\"docs_pnpm_npmrc.md\":\"e458af27\",\"docs_prettier_prettierrc.md\":\"4b878e93\",\"docs_npm_package-lock.md\":\"4bc71df6\",\"docs_pnpm_index.md\":\"ebb068a5\",\"docs_pnpm_function.md\":\"77e0771a\",\"docs_typescript_error-code.md\":\"a46c2677\",\"docs_eslint_eslint-define-config.md\":\"27b31d21\",\"docs_eslint_eslint-config-prettier.md\":\"3e544ca6\",\"docs_eslint_eslint-plugin-prettier.md\":\"b3e3927f\",\"docs_typescript_index.md\":\"0d31075f\",\"full-stack_nginx_index.md\":\"4eb29353\",\"docs_unocss_config.md\":\"9b47a18c\",\"docs_unocss_index.md\":\"7d86a610\",\"nest_basic_http-transfer.md\":\"0bbe8ddb\",\"docs_stylelint_integrate.md\":\"768f0227\",\"docs_stylelint_stylelintrc.md\":\"d672d445\",\"docs_eslint_eslint-config-js.md\":\"34c0f56a\",\"nest_advanced_compodoc.md\":\"722f264a\",\"full-stack_nginx_config.md\":\"f51e9b85\",\"docs_unocss_presets.md\":\"06033c03\",\"docs_npm_package-json.md\":\"0d56e984\",\"nest_core_index.md\":\"d5d0c5c3\",\"general_authentication.md\":\"6ff9951d\",\"nest_advanced_mysql.md\":\"b59d49b3\",\"nest_basic_ioc.md\":\"f332a9a0\",\"general_text-format.md\":\"6a8b5b72\",\"nest_core_guard.md\":\"54803c55\",\"nest_basic_decorator.md\":\"9cc85caf\",\"nest_advanced_swagger.md\":\"91b2141f\",\"nest_advanced_setting.md\":\"37dc4ce2\",\"nest_core_provider.md\":\"2a1a42eb\",\"index.md\":\"1c66290e\",\"nest_advanced_log.md\":\"a1ccbb7d\",\"nest_core_middleware.md\":\"f9b70f34\",\"guide_some-questions.md\":\"74ead82b\",\"docs_git_gitattributes.md\":\"b36a8915\",\"docs_eslint_parser.md\":\"87fb3fdb\",\"guide_about.md\":\"cc7e7cd0\",\"pkgs_prismjs.md\":\"1092cc13\",\"docs_changelog_index.md\":\"168149a1\",\"docs_git_gitignore.md\":\"e77c4e4d\",\"nest_basic_aop.md\":\"f730d167\",\"docs_npm_npmrc.md\":\"1e22e84e\",\"docs_eslint_eslintignore.md\":\"f24b0b14\",\"docs_changelog_release-it.md\":\"19bd00e6\",\"nest_basic_index.md\":\"3f5ac2c2\",\"nest_db_index.md\":\"10b30b20\",\"pkgs_index.md\":\"1eb1d1a8\",\"general_authorization.md\":\"f16099d6\",\"nest_advanced_redis.md\":\"f1470961\",\"docs_eslint_index.md\":\"f48b334a\",\"docs_typescript_tsconfig.md\":\"969d549b\",\"nest_core_module.md\":\"05b9705a\",\"nest_advanced_exception-filter.md\":\"f4a13fc1\",\"nest_advanced_validate.md\":\"0abb035a\",\"docs_git_git-lfs.md\":\"d6b936f4\",\"docs_eslint_eslintrc.md\":\"c5d57957\",\"pkgs_cosmiconfig.md\":\"809672a0\",\"docs_git_git-workflows.md\":\"e333d847\",\"nest_core_pipe.md\":\"565ac8bf\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"老刘开发笔记\",\"description\":\"分享前端工程配置，探索前端工程最佳实践\",\"base\":\"/fe-engineering/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"综合知识\",\"link\":\"/general/text-format\",\"activeMatch\":\"/general/\"},{\"text\":\"前端\",\"activeMatch\":\"/docs/\",\"items\":[{\"text\":\"工程配置\",\"link\":\"/docs/catalogue\"}]},{\"text\":\"大前端\",\"items\":[{\"text\":\"库收集\",\"link\":\"/pkgs/\"},{\"text\":\"Nestjs\",\"link\":\"/nest/basic/\"}]},{\"text\":\"全栈\",\"items\":[{\"text\":\"Nginx\",\"link\":\"/full-stack/nginx/\"}]}],\"outline\":{\"label\":\"内容大纲\"},\"search\":{\"provider\":\"local\",\"options\":{\"locales\":{\"root\":{\"translations\":{\"button\":{\"buttonText\":\"搜索文档\",\"buttonAriaLabel\":\"搜索文档\"},\"modal\":{\"noResultsText\":\"没有找到相关结果\",\"resetButtonTitle\":\"重置搜索\",\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"导航到\"}}}}}}},\"docFooter\":{\"prev\":\"上一页\",\"next\":\"下一页\"},\"lastUpdated\":{\"text\":\"最后更新于\",\"formatOptions\":{\"dateStyle\":\"short\",\"timeStyle\":\"medium\"}},\"sidebar\":{\"/guide/\":[{\"items\":[{\"text\":\"关于本站\",\"link\":\"/guide/about\"},{\"text\":\"Q&A\",\"link\":\"/guide/some-questions\"}]}],\"/general/\":[{\"items\":[{\"text\":\"文本格式\",\"link\":\"/general/text-format\"},{\"text\":\"身份认证\",\"link\":\"/general/authentication\"},{\"text\":\"权限系统&模型\",\"link\":\"/general/authorization\"}]}],\"/docs/\":[{\"items\":[{\"text\":\"文档目录\",\"link\":\"/docs/catalogue\"},{\"text\":\"EditorConfig\",\"link\":\"/docs/editorconfig\"},{\"text\":\"Prettier\",\"link\":\"/docs/prettier/\",\"collapsed\":true,\"items\":[{\"text\":\"概述\",\"link\":\"/docs/prettier/\"},{\"text\":\"配置详解\",\"link\":\"/docs/prettier/prettierrc\"}]},{\"text\":\"ESLint\",\"link\":\"/docs/eslint/\",\"collapsed\":true,\"items\":[{\"text\":\"概述\",\"link\":\"/docs/eslint/\"},{\"text\":\"解析器\",\"link\":\"/docs/eslint/parser\"},{\"text\":\"Flat Config 配置详解\",\"link\":\"/docs/eslint/eslint-config-js\"},{\"text\":\"eslintrc* 配置详解\",\"link\":\"/docs/eslint/eslintrc\"},{\"text\":\"忽略文件配置\",\"link\":\"/docs/eslint/eslintignore\"},{\"text\":\"插件:eslint-config-prettier\",\"link\":\"/docs/eslint/eslint-config-prettier\"},{\"text\":\"插件:eslint-plugin-prettier\",\"link\":\"/docs/eslint/eslint-plugin-prettier\"},{\"text\":\"插件:typescript-eslint\",\"link\":\"/docs/eslint/typescript-eslint\"},{\"text\":\"插件:@babel/eslint-parser\",\"link\":\"/docs/eslint/babel-eslint-parser\"},{\"text\":\"插件:eslint-plugin-vue\",\"link\":\"/docs/eslint/eslint-plugin-vue\"},{\"text\":\"插件:eslint-define-config\",\"link\":\"/docs/eslint/eslint-define-config\"}]},{\"text\":\"Stylelint\",\"link\":\"/docs/stylelint/\",\"collapsed\":true,\"items\":[{\"text\":\"概述\",\"link\":\"/docs/stylelint/\"},{\"text\":\"配置详解\",\"link\":\"/docs/stylelint/stylelintrc\"},{\"text\":\"集成插件\",\"link\":\"/docs/stylelint/integrate\"}]},{\"text\":\"markdownlint\",\"link\":\"/docs/markdownlint\"},{\"text\":\"ls-lint\",\"link\":\"/docs/ls-lint\"},{\"text\":\"Husky\",\"link\":\"/docs/husky\"},{\"text\":\"Lint-staged\",\"link\":\"/docs/lint-staged\"},{\"text\":\"Browserslist\",\"link\":\"/docs/browserslist\"},{\"text\":\"版本和changelog管理\",\"link\":\"/docs/changelog/\",\"collapsed\":true,\"items\":[{\"text\":\"commitlint\",\"link\":\"/docs/changelog/commitlint\"},{\"text\":\"czg\",\"link\":\"/docs/changelog/czg\"},{\"text\":\"release-it\",\"link\":\"/docs/changelog/release-it\"},{\"text\":\"conventional-changelog\",\"link\":\"/docs/changelog/conventional-changelog\"}]},{\"text\":\"Pnpm\",\"link\":\"/docs/pnpm/\",\"collapsed\":true,\"items\":[{\"text\":\"概述\",\"link\":\"/docs/pnpm/\"},{\"text\":\".npmrc配置\",\"link\":\"/docs/pnpm/npmrc\"},{\"text\":\"功能\",\"link\":\"/docs/pnpm/function\"}]},{\"text\":\"npm\",\"link\":\"/docs/npm/package-json\",\"collapsed\":true,\"items\":[{\"text\":\"package.json\",\"link\":\"/docs/npm/package-json\"},{\"text\":\"package-lock.json\",\"link\":\"/docs/npm/package-lock\"},{\"text\":\".npmrc\",\"link\":\"/docs/npm/npmrc\"}]},{\"text\":\"Git\",\"link\":\"/docs/git/gitignore\",\"collapsed\":true,\"items\":[{\"text\":\".gitignore\",\"link\":\"/docs/git/gitignore\"},{\"text\":\".gitattributes\",\"link\":\"/docs/git/gitattributes\"},{\"text\":\"Git LFS\",\"link\":\"/docs/git/git-lfs\"},{\"text\":\"Git Workflows\",\"link\":\"/docs/git/git-workflows\"}]},{\"text\":\"Github\",\"link\":\"/docs/github/github-actions\",\"collapsed\":true,\"items\":[{\"text\":\"github actions\",\"link\":\"/docs/github/github-actions\"},{\"text\":\"github pages\",\"link\":\"/docs/github/github-pages\"}]},{\"text\":\"TypeScript\",\"link\":\"/docs/typescript/\",\"collapsed\":true,\"items\":[{\"text\":\"概述\",\"link\":\"/docs/typescript/\"},{\"text\":\"jsconfig.json配置\",\"link\":\"/docs/typescript/jsconfig\"},{\"text\":\"tsconfig.json配置\",\"link\":\"/docs/typescript/tsconfig\"}]},{\"text\":\"UnoCSS\",\"link\":\"/docs/unocss/\",\"collapsed\":true,\"items\":[{\"text\":\"概述\",\"link\":\"/docs/unocss/\"},{\"text\":\"配置\",\"link\":\"/docs/unocss/config\"},{\"text\":\"预设\",\"link\":\"/docs/unocss/presets\"}]}]}],\"/pkgs/\":[{\"items\":[{\"text\":\"文档目录\",\"link\":\"/pkgs/\"},{\"text\":\"cosmiconfig\",\"link\":\"/pkgs/cosmiconfig\"},{\"text\":\"escape-html\",\"link\":\"/pkgs/escape-html\"},{\"text\":\"prismjs\",\"link\":\"/pkgs/prismjs\"}]}],\"/nest/\":[{\"text\":\"Nestjs\",\"link\":\"/nest/basic/\",\"items\":[{\"text\":\"基础\",\"collapsed\":true,\"activeMatch\":\"/nest/basic/\",\"items\":[{\"text\":\"概述\",\"link\":\"/nest/basic/\"},{\"text\":\"nest-cli\",\"link\":\"/nest/basic/nest-cli\"},{\"text\":\"理解 IoC\",\"link\":\"/nest/basic/ioc\"},{\"text\":\"理解 AOP\",\"link\":\"/nest/basic/aop\"},{\"text\":\"HTTP 数据传输\",\"link\":\"/nest/basic/http-transfer\"},{\"text\":\"内置装饰器\",\"link\":\"/nest/basic/decorator\"}]},{\"text\":\"核心\",\"collapsed\":true,\"items\":[{\"text\":\"module\",\"link\":\"/nest/core/module\"},{\"text\":\"provider\",\"link\":\"/nest/core/provider\"},{\"text\":\"middleware\",\"link\":\"/nest/core/middleware\"},{\"text\":\"pipe\",\"link\":\"/nest/core/pipe\"}]},{\"text\":\"进阶\",\"collapsed\":true,\"items\":[{\"text\":\"全局配置\",\"link\":\"/nest/advanced/setting\"},{\"text\":\"日志系统\",\"link\":\"/nest/advanced/log\"},{\"text\":\"参数校验\",\"link\":\"/nest/advanced/validate\"},{\"text\":\"异常过滤器\",\"link\":\"/nest/advanced/exception-filter\"},{\"text\":\"集成redis\",\"link\":\"/nest/advanced/redis\"},{\"text\":\"集成mysql\",\"link\":\"/nest/advanced/mysql\"},{\"text\":\"集成swagger\",\"link\":\"/nest/advanced/swagger\"},{\"text\":\"集成compodoc\",\"link\":\"/nest/advanced/compodoc\"},{\"text\":\"登录状态\",\"link\":\"/nest/advanced/login\"}]}]}],\"/full-stack/\":[{\"items\":[{\"text\":\"Nginx\",\"link\":\"/full-stack/nginx/\",\"collapsed\":true,\"items\":[{\"text\":\"概述\",\"link\":\"/full-stack/nginx/\"},{\"text\":\"配置文件\",\"link\":\"/full-stack/nginx/config\"},{\"text\":\"配置示例\",\"link\":\"/full-stack/nginx/example\"}]}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/yun8711/fe-configuration.git\"}]},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":true}");</script>
    
  </body>
</html>