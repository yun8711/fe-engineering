<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>理解 IoC | 老刘开发笔记</title>
    <meta name="description" content="分享前端工程配置，探索前端工程最佳实践">
    <link rel="preload stylesheet" href="/fe-engineering/assets/style.a692490b.css" as="style">
    
    <script type="module" src="/fe-engineering/assets/app.97a5dc63.js"></script>
    <link rel="preload" href="/fe-engineering/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/fe-engineering/assets/chunks/framework.8277b2e6.js">
    <link rel="modulepreload" href="/fe-engineering/assets/chunks/theme.925db023.js">
    <link rel="modulepreload" href="/fe-engineering/assets/nest_basic_ioc.md.e2eba93b.lean.js">
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-a27d059b><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0e88670c></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0e88670c> Skip to content </a><!--]--><!----><header class="VPNav" data-v-a27d059b data-v-a2d341a4><div class="VPNavBar has-sidebar" data-v-a2d341a4 data-v-ed54c5cc><div class="container" data-v-ed54c5cc><div class="title" data-v-ed54c5cc><div class="VPNavBarTitle has-sidebar" data-v-ed54c5cc data-v-d95597e9><a class="title" href="/fe-engineering/" data-v-d95597e9><!--[--><!--]--><!----><!--[-->老刘开发笔记<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-ed54c5cc><div class="curtain" data-v-ed54c5cc></div><div class="content-body" data-v-ed54c5cc><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-ed54c5cc><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-ed54c5cc data-v-658ddbd1><span id="main-nav-aria-label" class="visually-hidden" data-v-658ddbd1>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/fe-engineering/general/text-format" tabindex="0" data-v-658ddbd1 data-v-552899e9><!--[-->综合知识<!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-658ddbd1 data-v-5944de3a><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-5944de3a><span class="text" data-v-5944de3a><!----> 前端 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-5944de3a><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-5944de3a><div class="VPMenu" data-v-5944de3a data-v-61426c1a><div class="items" data-v-61426c1a><!--[--><!--[--><div class="VPMenuLink" data-v-61426c1a data-v-18383e03><a class="VPLink link" href="/fe-engineering/docs/catalogue" data-v-18383e03><!--[-->工程配置<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-658ddbd1 data-v-5944de3a><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-5944de3a><span class="text" data-v-5944de3a><!----> 大前端 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-5944de3a><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-5944de3a><div class="VPMenu" data-v-5944de3a data-v-61426c1a><div class="items" data-v-61426c1a><!--[--><!--[--><div class="VPMenuLink" data-v-61426c1a data-v-18383e03><a class="VPLink link" href="/fe-engineering/pkgs/" data-v-18383e03><!--[-->库收集<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-61426c1a data-v-18383e03><a class="VPLink link" href="/fe-engineering/nest/basic/" data-v-18383e03><!--[-->Nestjs<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-658ddbd1 data-v-5944de3a><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-5944de3a><span class="text" data-v-5944de3a><!----> 全栈 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-5944de3a><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-5944de3a><div class="VPMenu" data-v-5944de3a data-v-61426c1a><div class="items" data-v-61426c1a><!--[--><!--[--><div class="VPMenuLink" data-v-61426c1a data-v-18383e03><a class="VPLink link" href="/fe-engineering/full-stack/nginx/" data-v-18383e03><!--[-->Nginx<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-ed54c5cc data-v-1d314bdf><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-1d314bdf data-v-6599c5ba data-v-cf7f8ab8><span class="check" data-v-cf7f8ab8><span class="icon" data-v-cf7f8ab8><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-6599c5ba><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-6599c5ba><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-ed54c5cc data-v-e04540dc data-v-9f3f149d><!--[--><a class="VPSocialLink no-icon" href="https://github.com/yun8711/fe-configuration.git" aria-label="github" target="_blank" rel="noopener" data-v-9f3f149d data-v-bcfd26a4><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-ed54c5cc data-v-2a309069 data-v-5944de3a><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-5944de3a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-5944de3a><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-5944de3a><div class="VPMenu" data-v-5944de3a data-v-61426c1a><!----><!--[--><!--[--><!----><div class="group" data-v-2a309069><div class="item appearance" data-v-2a309069><p class="label" data-v-2a309069>Appearance</p><div class="appearance-action" data-v-2a309069><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-2a309069 data-v-6599c5ba data-v-cf7f8ab8><span class="check" data-v-cf7f8ab8><span class="icon" data-v-cf7f8ab8><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-6599c5ba><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-6599c5ba><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-2a309069><div class="item social-links" data-v-2a309069><div class="VPSocialLinks social-links-list" data-v-2a309069 data-v-9f3f149d><!--[--><a class="VPSocialLink no-icon" href="https://github.com/yun8711/fe-configuration.git" aria-label="github" target="_blank" rel="noopener" data-v-9f3f149d data-v-bcfd26a4><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-ed54c5cc data-v-f9bfebba><span class="container" data-v-f9bfebba><span class="top" data-v-f9bfebba></span><span class="middle" data-v-f9bfebba></span><span class="bottom" data-v-f9bfebba></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-a27d059b data-v-1b22ceb8><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-1b22ceb8><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-1b22ceb8><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-1b22ceb8>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-1b22ceb8 data-v-844a0dd3><button data-v-844a0dd3>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-a27d059b data-v-b9a869cd><div class="curtain" data-v-b9a869cd></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-b9a869cd><span class="visually-hidden" id="sidebar-aria-label" data-v-b9a869cd> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-b9a869cd><section class="VPSidebarItem level-0 is-link has-active" data-v-b9a869cd data-v-f572e93b><div class="item" tabindex="0" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><a class="VPLink link link" href="/fe-engineering/nest/basic/" data-v-f572e93b><!--[--><h2 class="text" data-v-f572e93b>Nestjs</h2><!--]--></a><!----></div><div class="items" data-v-f572e93b><!--[--><section class="VPSidebarItem level-1 collapsible has-active" data-v-f572e93b data-v-f572e93b><div class="item" role="button" tabindex="0" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><h3 class="text" data-v-f572e93b>基础</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-f572e93b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-f572e93b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-f572e93b><!--[--><div class="VPSidebarItem level-2 is-link" data-v-f572e93b data-v-f572e93b><div class="item" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><a class="VPLink link link" href="/fe-engineering/nest/basic/" data-v-f572e93b><!--[--><p class="text" data-v-f572e93b>概述</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f572e93b data-v-f572e93b><div class="item" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><a class="VPLink link link" href="/fe-engineering/nest/basic/nest-cli" data-v-f572e93b><!--[--><p class="text" data-v-f572e93b>nest-cli</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link is-active has-active" data-v-f572e93b data-v-f572e93b><div class="item" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><a class="VPLink link link" href="/fe-engineering/nest/basic/ioc" data-v-f572e93b><!--[--><p class="text" data-v-f572e93b>理解 IoC</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f572e93b data-v-f572e93b><div class="item" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><a class="VPLink link link" href="/fe-engineering/nest/basic/aop" data-v-f572e93b><!--[--><p class="text" data-v-f572e93b>理解 AOP</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f572e93b data-v-f572e93b><div class="item" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><a class="VPLink link link" href="/fe-engineering/nest/basic/http-transfer" data-v-f572e93b><!--[--><p class="text" data-v-f572e93b>HTTP 数据传输</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f572e93b data-v-f572e93b><div class="item" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><a class="VPLink link link" href="/fe-engineering/nest/basic/decorator" data-v-f572e93b><!--[--><p class="text" data-v-f572e93b>内置装饰器</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-f572e93b data-v-f572e93b><div class="item" role="button" tabindex="0" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><h3 class="text" data-v-f572e93b>核心</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-f572e93b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-f572e93b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-f572e93b><!--[--><div class="VPSidebarItem level-2 is-link" data-v-f572e93b data-v-f572e93b><div class="item" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><a class="VPLink link link" href="/fe-engineering/nest/core/module" data-v-f572e93b><!--[--><p class="text" data-v-f572e93b>module</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f572e93b data-v-f572e93b><div class="item" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><a class="VPLink link link" href="/fe-engineering/nest/core/provider" data-v-f572e93b><!--[--><p class="text" data-v-f572e93b>provider</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f572e93b data-v-f572e93b><div class="item" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><a class="VPLink link link" href="/fe-engineering/nest/core/middleware" data-v-f572e93b><!--[--><p class="text" data-v-f572e93b>middleware</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f572e93b data-v-f572e93b><div class="item" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><a class="VPLink link link" href="/fe-engineering/nest/core/pipe" data-v-f572e93b><!--[--><p class="text" data-v-f572e93b>pipe</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-f572e93b data-v-f572e93b><div class="item" role="button" tabindex="0" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><h3 class="text" data-v-f572e93b>进阶</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-f572e93b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-f572e93b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-f572e93b><!--[--><div class="VPSidebarItem level-2 is-link" data-v-f572e93b data-v-f572e93b><div class="item" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><a class="VPLink link link" href="/fe-engineering/nest/advanced/setting" data-v-f572e93b><!--[--><p class="text" data-v-f572e93b>全局配置</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f572e93b data-v-f572e93b><div class="item" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><a class="VPLink link link" href="/fe-engineering/nest/advanced/log" data-v-f572e93b><!--[--><p class="text" data-v-f572e93b>日志系统</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f572e93b data-v-f572e93b><div class="item" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><a class="VPLink link link" href="/fe-engineering/nest/advanced/validate" data-v-f572e93b><!--[--><p class="text" data-v-f572e93b>参数校验</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f572e93b data-v-f572e93b><div class="item" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><a class="VPLink link link" href="/fe-engineering/nest/advanced/exception-filter" data-v-f572e93b><!--[--><p class="text" data-v-f572e93b>异常过滤器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f572e93b data-v-f572e93b><div class="item" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><a class="VPLink link link" href="/fe-engineering/nest/advanced/redis" data-v-f572e93b><!--[--><p class="text" data-v-f572e93b>集成redis</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f572e93b data-v-f572e93b><div class="item" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><a class="VPLink link link" href="/fe-engineering/nest/advanced/mysql" data-v-f572e93b><!--[--><p class="text" data-v-f572e93b>集成mysql</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f572e93b data-v-f572e93b><div class="item" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><a class="VPLink link link" href="/fe-engineering/nest/advanced/swagger" data-v-f572e93b><!--[--><p class="text" data-v-f572e93b>集成swagger</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f572e93b data-v-f572e93b><div class="item" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><a class="VPLink link link" href="/fe-engineering/nest/advanced/compodoc" data-v-f572e93b><!--[--><p class="text" data-v-f572e93b>集成compodoc</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f572e93b data-v-f572e93b><div class="item" data-v-f572e93b><div class="indicator" data-v-f572e93b></div><a class="VPLink link link" href="/fe-engineering/nest/advanced/login" data-v-f572e93b><!--[--><p class="text" data-v-f572e93b>登录状态</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-a27d059b data-v-cd6d025a><div class="VPDoc has-sidebar has-aside" data-v-cd6d025a data-v-f6898342><!--[--><!--]--><div class="container" data-v-f6898342><div class="aside" data-v-f6898342><div class="aside-curtain" data-v-f6898342></div><div class="aside-container" data-v-f6898342><div class="aside-content" data-v-f6898342><div class="VPDocAside" data-v-f6898342 data-v-7c04432f><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-7c04432f data-v-a85a0d0e><div class="content" data-v-a85a0d0e><div class="outline-marker" data-v-a85a0d0e></div><div class="outline-title" data-v-a85a0d0e>内容大纲</div><nav aria-labelledby="doc-outline-aria-label" data-v-a85a0d0e><span class="visually-hidden" id="doc-outline-aria-label" data-v-a85a0d0e> Table of Contents for current page </span><ul class="root" data-v-a85a0d0e data-v-98529afd><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-7c04432f></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-f6898342><div class="content-container" data-v-f6898342><!--[--><!--]--><!----><main class="main" data-v-f6898342><div style="position:relative;" class="vp-doc _fe-engineering_nest_basic_ioc" data-v-f6898342><div><h1 id="理解-ioc" tabindex="-1">理解 IoC <a class="header-anchor" href="#理解-ioc" aria-label="Permalink to &quot;理解 IoC&quot;">​</a></h1><h2 id="基本概念" tabindex="-1">基本概念 <a class="header-anchor" href="#基本概念" aria-label="Permalink to &quot;基本概念&quot;">​</a></h2><h3 id="ioc-inversion-of-control-控制反转" tabindex="-1">IoC（Inversion of Control，控制反转） <a class="header-anchor" href="#ioc-inversion-of-control-控制反转" aria-label="Permalink to &quot;IoC（Inversion of Control，控制反转）&quot;">​</a></h3><p>一种面向对象编程中的设计原则，用来降低代码之间的耦合度，主要针对<strong>对象实例化</strong>这个过程。</p><p>将组件对象的控制权从程序代码本身转移到了外部容器，将程序的操作对象调用权交给容器（container），从而实现对象组件的装配和管理。</p><br><blockquote><p>理解一下：常规的使用中，在哪里调用，就要先使用 new 实例化对象，而控制反转就是把实例化对象这个过程交给容器自动实现，代码中只管调用，容器会把对应的实例自动注入</p></blockquote><br><h3 id="di-dependency-injection-依赖注入" tabindex="-1">DI（Dependency Injection，依赖注入） <a class="header-anchor" href="#di-dependency-injection-依赖注入" aria-label="Permalink to &quot;DI（Dependency Injection，依赖注入）&quot;">​</a></h3><p>简单来说，IoC是一种思想、原则，而 DI 是这种思想的具体实现方式、方案。</p><p>其他的<strong>依赖注入的方式</strong>：</p><ol><li>构造器注入： 依赖关系通过 class 构造器提供；nest 采用的方式</li><li>setter 注入：用 setter 方法注入依赖项；</li><li>接口注入：依赖项提供一个注入方法，该方法将把依赖项注入到传递给它的任何客户端中。客户端必须实现一个接口，该接口的 setter 方法接收依赖；</li></ol><br><h3 id="ioc-核心思想" tabindex="-1">IoC 核心思想 <a class="header-anchor" href="#ioc-核心思想" aria-label="Permalink to &quot;IoC 核心思想&quot;">​</a></h3><p>理解 <code>IoC</code> 思想的关键在于：</p><ol><li><p>谁控制谁</p><p>在传统程序设计中，一般会直接在对象内部通过 new 的方式创建对象，是程序主动创建依赖对象。</p><p>在 IoC 中有专门的容器来创建这些对象，即<strong>由IoC容器控制对象的创建</strong>。</p></li><li><p>控制什么</p><p>主要是控制**外部资源（所依赖对象）**的获取</p></li><li><p>为何是反转</p><p>传统应用程序是由我们自己在程序中<strong>主动控制</strong>去获取依赖对象，这叫 <code>正转</code> 。<code>反转</code> 则是由<strong>容器来帮忙创建及注入依赖对象</strong>。</p><p>在 <code>IoC</code> 的思想中，由于容器帮我们查找及注入依赖对象，对象只是<strong>被动</strong>的接受依赖对象，所以是<strong>反转</strong> 了</p></li><li><p>哪些方面反转了</p><p>依赖对象的获取被反转了</p></li></ol><br><h3 id="优点" tabindex="-1">优点 <a class="header-anchor" href="#优点" aria-label="Permalink to &quot;优点&quot;">​</a></h3><ol><li>可维护性较好：便于单元测试、调试程序和诊断故障（彼此之间互不影响）。</li><li>大中型项目中，团队成员分工明确，不用依赖于他人的组件。</li><li>可复用性好：可以把具有普遍性的常用组件独立出来，反复应用到项目中的其他部分。</li><li>生成对象的方式转为外置方式：把对象生成放在配置文件中进行定义。</li></ol><br><h3 id="举例说明" tabindex="-1">举例说明 <a class="header-anchor" href="#举例说明" aria-label="Permalink to &quot;举例说明&quot;">​</a></h3><p>在后端系统中，有很多对象，比如：</p><ul><li>Controller 对象：接收 http 请求，调用 Service，返回响应</li><li>Service 对象：实现业务逻辑</li><li>Repository 对象：实现对数据库的增删改查</li><li>DataSource 对象：数据库链接对象</li><li>Config 对象：配置对象</li></ul><p>这些对象有着错综复杂的关系：</p><p>Controller 依赖了 Service 实现业务逻辑，Service 依赖了 Repository 来做增删改查，Repository 依赖 DataSource 来建立连接，DataSource 又需要从 Config 对象拿到用户名密码等信息</p><p>这就导致了创建这些对象是很复杂的，需要理清它们之间的依赖关系，哪个先创建哪个后创建。并且像 Config、DataSource 对象不需要每次 new 一个新的，保持单例即可。</p><p>如果这个过程手动维护会很繁琐，并且容易出错，这是后端系统的一个痛点，而解决它的方式就是 IoC，像 Spring、Nest 都实现了这种方式。</p><h2 id="深入理解-ioc" tabindex="-1">深入理解 IoC <a class="header-anchor" href="#深入理解-ioc" aria-label="Permalink to &quot;深入理解 IoC&quot;">​</a></h2><h3 id="依赖倒置原则" tabindex="-1">依赖倒置原则 <a class="header-anchor" href="#依赖倒置原则" aria-label="Permalink to &quot;依赖倒置原则&quot;">​</a></h3><p>先了解软件设计的一个重要思想：<strong>依赖倒置原则（Dependency Inversion Principle ）。</strong></p><p>假设我们设计一辆汽车：先设计轮子，然后根据轮子大小设计底盘，接着根据底盘设计车身，最后根据车身设计好整个汽车。这里就出现了一个“依赖”关系：汽车依赖车身，车身依赖底盘，底盘依赖轮子。</p><p><img src="/fe-engineering/assets/ioc_1.d066860f.png" alt="ioc_01"></p><p>这样的设计，最大的问题就是<strong>可维护性很低</strong>。</p><p>假设设计完工之后，突然需求变动，要把车子的轮子设计都改大一码。这下就蛋疼了：因为我们是根据轮子的尺寸设计的底盘，轮子的尺寸一改，底盘的设计就得修改；同样因为是根据底盘设计的车身，那么车身也得改，同理汽车设计也得改，整个设计几乎都得改！</p><p>现在换一种思路：我们先设计汽车的大概样子，然后根据汽车的样子来设计车身，根据车身来设计底盘，最后根据底盘来设计轮子。这时候，依赖关系就倒置过来了：轮子依赖底盘， 底盘依赖车身， 车身依赖汽车。</p><p><img src="/fe-engineering/assets/ioc_2.0ac8f8f2.png" alt="ioc_02"></p><p>这就是<strong>依赖倒置原则</strong>：把原本的上层依赖底层**“倒置”<strong>过来，变成</strong>底层依赖上层**。上层需要什么，底层去实现这样的需求，但是高层并不用管底层是怎么实现的。这样就不会出现前面的“牵一发动全身”的情况。</p><h3 id="控制反转-inversion-of-control" tabindex="-1">控制反转（Inversion of Control） <a class="header-anchor" href="#控制反转-inversion-of-control" aria-label="Permalink to &quot;控制反转（Inversion of Control）&quot;">​</a></h3><p>控制反转就是依赖倒置原则的一种代码设计思路，具体采用的方法就是依赖注入。</p><p><img src="/fe-engineering/assets/ioc_3.611c7561.png" alt="nest_ioc_03"></p><h3 id="js-实现与理解" tabindex="-1">js 实现与理解 <a class="header-anchor" href="#js-实现与理解" aria-label="Permalink to &quot;js 实现与理解&quot;">​</a></h3><p>首先，我们为最终的目标创建了各种低层类</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">A</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">string</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">name</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this.</span><span style="color:#BABED8;">name</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">name</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">C</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">string</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">name</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this.</span><span style="color:#BABED8;">name</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">name</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>然后有一个IoC容器，来收集这些低层依赖的实例</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// IoC容器中间件用于解耦</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Container</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">modeuls</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">any</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this.</span><span style="color:#BABED8;">modeuls</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">provide</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">key</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">modeuls</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this.</span><span style="color:#BABED8;">modeuls</span><span style="color:#F07178;">[</span><span style="color:#BABED8;">key</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">modeuls</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">get</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">key</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#BABED8;">modeuls</span><span style="color:#F07178;">[</span><span style="color:#BABED8;">key</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> mo </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">new</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">Container</span><span style="color:#BABED8;">()</span></span>
<span class="line"><span style="color:#BABED8;">mo</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">provide</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">new</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">A</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">小满1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">))</span></span>
<span class="line"><span style="color:#BABED8;">mo</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">provide</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">c</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">new</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">C</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">小满2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">))</span></span></code></pre></div><p>最终使用时，只需要取出这些低层依赖的实例，创建我们需要的结果</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">B</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">any</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">c</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">any</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">container</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Container</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this.</span><span style="color:#BABED8;">a</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">container</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this.</span><span style="color:#BABED8;">c</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">container</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">c</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">new</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">B</span><span style="color:#BABED8;">(mo)</span></span></code></pre></div><h2 id="nest-中如何实现-ioc" tabindex="-1">Nest 中如何实现 IoC <a class="header-anchor" href="#nest-中如何实现-ioc" aria-label="Permalink to &quot;Nest 中如何实现 IoC&quot;">​</a></h2><p>在 NestJS 中，实现依赖注入的核心机制是通过 Nest 提供的装饰器和依赖注入容器。NestJS 使用了 TypeScript 的装饰器和元数据功能来实现依赖注入。</p><p>以下是在 NestJS 中实现依赖注入的一般步骤：</p><p>1、定义 provider，即可注入的服务类</p><p>这个类负责实现具体的业务逻辑。可以使用 <code>@Injectable()</code> 装饰器将其标记为可注入的服务类。</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Injectable</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@nestjs/common</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">Injectable</span><span style="color:#BABED8;">()</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">MyService</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 实现服务的具体逻辑</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>2、注册 provider</p><p>在需要使用该 provider 的模块中，使用 <code>providers</code> 数组来注册提供者。提供者可以是服务类本身，也可以是由 <code>useFactory</code>、<code>useValue</code> 或 <code>useClass</code> 提供的自定义对象。</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Module</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@nestjs/common</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">MyService</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./my.service</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">MyOtherService</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./my-other.service</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">Module</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">providers</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [MyService</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> MyOtherService]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">MyModule</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{}</span></span></code></pre></div><p>还可以使用 <code>@Module()</code> 装饰器的 <code>imports</code> 属性来导入其他模块，以获取它们提供的服务。</p><p>3、注入服务</p><p>在需要使用这个服务的地方，使用构造函数注入或属性注入方式来引入该服务。使用 <code>@Inject()</code> 装饰器来标记需要注入的属性或参数。</p><p>构造函数注入：</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Injectable</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Inject</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@nestjs/common</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">MyService</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./my.service</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">Injectable</span><span style="color:#BABED8;">()</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">MyOtherService</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">private</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">readonly</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">myService</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">MyService</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>属性注入：</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Injectable</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Inject</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@nestjs/common</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">MyService</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./my.service</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">Injectable</span><span style="color:#BABED8;">()</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">MyOtherService</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">Inject</span><span style="color:#BABED8;">()</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">private</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">readonly</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">myService</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">MyService</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>4、使用依赖注入的服务</p><p>使用注入的服务时，可以在组件或服务中直接引用它，Nest 会负责创建和管理这些服务的实例。</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Controller</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Get</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@nestjs/common</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">MyService</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./my.service</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">Controller</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">my</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">MyController</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">private</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">readonly</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">myService</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">MyService</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">Get</span><span style="color:#BABED8;">()</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">getHello</span><span style="color:#89DDFF;">():</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#BABED8;">myService</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getHello</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h2 id="nest-中使用-ioc" tabindex="-1">Nest 中使用 IoC <a class="header-anchor" href="#nest-中使用-ioc" aria-label="Permalink to &quot;Nest 中使用 IoC&quot;">​</a></h2><p>创建一个基本的 nest 项目后，在 app.service.ts 中</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Injectable</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@nestjs/common</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">Injectable</span><span style="color:#BABED8;">()</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">AppService</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">getHello</span><span style="color:#89DDFF;">():</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Hello World!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>AppService 声明了 @Injectable，代表这个 class 可被注入，那么 nest 就会把它的对象放到 IOC 容器里</p><p>在 app.controller.ts 中</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Controller</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Get</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@nestjs/common</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">AppService</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./app.service</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">Controller</span><span style="color:#BABED8;">()</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">AppController</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">private</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">readonly</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">appService</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">AppService</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">Get</span><span style="color:#BABED8;">()</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">getHello</span><span style="color:#89DDFF;">():</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#BABED8;">appService</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getHello</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>AppController 声明了 @Controller，代表这个 class 可以被注入，nest 也会把它放到 IOC 容器里。</p><blockquote><p>注意：@Injectable 声明的对象，可以被注入，也可以注入到别的对象，@Controller 声明的对象，只需要被注入</p></blockquote><p>然后把它们在 AppModule 里引入：</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Module</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@nestjs/common</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">AppController</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./app.controller</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">AppService</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./app.service</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">PersonModule</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./person/person.module</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">Module</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">imports</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [PersonModule]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">controllers</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [AppController]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">providers</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [AppService]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">AppModule</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{}</span></span></code></pre></div><p>通过 @Module 声明模块：</p><ul><li>其中 controllers 是控制器，只能被注入</li><li>providers 里可以被注入，也可以注入别的对象，比如这里的 AppService</li></ul><p>最后在入口模块里跑起来：</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">NestFactory</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@nestjs/core</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">AppModule</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./app.module</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">NestExpressApplication</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@nestjs/platform-express</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">bootstrap</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">app</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">NestFactory</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">AppModule</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">listen</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">3000</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#82AAFF;">bootstrap</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p>nest 就会从 AppModule 开始解析 class 上通过装饰器声明的依赖信息，自动创建和组装对象</p><p>所以 AppController 只是声明了对 AppService 的依赖，就可以调用它的方法了</p><p><img src="/fe-engineering/assets/ioc_4.5c11b835.png" alt="nest_ioc_04"></p><p>nest 还加了模块机制，可以把不同业务的 controller、service 等放到不同模块里</p><p><img src="/fe-engineering/assets/ioc_5.6c912f92.webp" alt="nest_ioc_05"></p></div></div></main><footer class="VPDocFooter" data-v-f6898342 data-v-eebaa464><!--[--><!--]--><div class="edit-info" data-v-eebaa464><!----><div class="last-updated" data-v-eebaa464><p class="VPLastUpdated" data-v-eebaa464 data-v-9f8fb174>最后更新于: <time datetime="2024-03-13T03:04:20.000Z" data-v-9f8fb174></time></p></div></div><nav class="prev-next" data-v-eebaa464><div class="pager" data-v-eebaa464><a class="pager-link prev" href="/fe-engineering/nest/basic/nest-cli" data-v-eebaa464><span class="desc" data-v-eebaa464>上一页</span><span class="title" data-v-eebaa464>nest-cli</span></a></div><div class="pager" data-v-eebaa464><a class="pager-link next" href="/fe-engineering/nest/basic/aop" data-v-eebaa464><span class="desc" data-v-eebaa464>下一页</span><span class="title" data-v-eebaa464>理解 AOP</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"docs_browserslist.md\":\"2265c691\",\"docs_changelog_release-it-example.md\":\"a3ebbec3\",\"docs_changelog_czg.md\":\"1c5500a2\",\"docs_eslint_eslint-config-prettier.md\":\"96d55cb0\",\"docs_eslint_babel-eslint-parser.md\":\"e732684f\",\"docs_git_gitignore.md\":\"957eccde\",\"docs_git_gitattributes.md\":\"9ec66610\",\"docs_husky.md\":\"3ceda95e\",\"docs_github_github-pages.md\":\"07a4f7ac\",\"docs_github_github-actions.md\":\"0c3586b9\",\"docs_eslint_eslintignore.md\":\"9ef1dd34\",\"docs_eslint_index.md\":\"58e66106\",\"docs_editorconfig.md\":\"67b4dd79\",\"docs_eslint_eslintrc.md\":\"b425e0e6\",\"docs_eslint_typescript-eslint.md\":\"d990f056\",\"docs_changelog_conventional-changelog.md\":\"025b86ed\",\"guide_about.md\":\"e873b9df\",\"docs_git_git-lfs.md\":\"6ea5d43c\",\"docs_lerna_index.md\":\"a541354f\",\"docs_eslint_parser.md\":\"03d368b4\",\"docs_lint-staged.md\":\"7da188b8\",\"docs_markdownlint.md\":\"eb7a5ff4\",\"docs_npm_npmrc.md\":\"59a21c4b\",\"docs_ls-lint.md\":\"3acec282\",\"docs_prettier_prettierrc.md\":\"11fa6d3d\",\"docs_stylelint_integrate.md\":\"c1fa87c7\",\"docs_stylelint_index.md\":\"f8b7f502\",\"docs_typescript_error-code.md\":\"2219d6e3\",\"docs_typescript_index.md\":\"180b9e95\",\"docs_stylelint_stylelintrc.md\":\"e6e351f0\",\"docs_typescript_jsconfig.md\":\"da31f0e9\",\"docs_unocss_config.md\":\"7ddee3ff\",\"docs_unocss_index.md\":\"2b55e64b\",\"docs_typescript_tsconfig.md\":\"076cd09e\",\"docs_prettier_index.md\":\"b06c33f2\",\"pkgs_cosmiconfig.md\":\"b9e8d3e3\",\"pkgs_index.md\":\"68abcc40\",\"pkgs_prismjs.md\":\"6badb42a\",\"nest_advanced_compodoc.md\":\"d575c646\",\"nest_advanced_log.md\":\"3ef35c1c\",\"pkgs_escape-html.md\":\"7bd1f125\",\"nest_advanced_mysql.md\":\"58baa5cc\",\"nest_advanced_setting.md\":\"7f913652\",\"nest_advanced_redis.md\":\"769f08b7\",\"nest_basic_aop.md\":\"409e3e0b\",\"docs_changelog_commitlint.md\":\"c01d764a\",\"nest_advanced_validate.md\":\"523ce039\",\"nest_basic_decorator.md\":\"4ce0ace4\",\"nest_basic_index.md\":\"9673c463\",\"nest_advanced_exception-filter.md\":\"e4929da2\",\"nest_advanced_swagger.md\":\"0587e60b\",\"guide_some-questions.md\":\"c8aab82a\",\"index.md\":\"9cfe74b2\",\"nest_core_index.md\":\"94d3a355\",\"docs_catalogue.md\":\"4435de59\",\"docs_changelog_index.md\":\"e03d6d74\",\"nest_basic_nest-cli.md\":\"8b5f2462\",\"docs_eslint_eslint-plugin-prettier.md\":\"6687fb3c\",\"docs_eslint_eslint-define-config.md\":\"229aa3f7\",\"docs_changelog_release-it.md\":\"bf7310bc\",\"docs_eslint_eslint-plugin-vue.md\":\"5d6f8387\",\"docs_eslint_eslint-config-js.md\":\"db78ff7b\",\"docs_changelog_attachment-rule-name.md\":\"f31c6fd7\",\"docs_pnpm_function.md\":\"c6115728\",\"docs_npm_package-lock.md\":\"c37beeb3\",\"docs_npm_package-json.md\":\"55166f20\",\"docs_pnpm_index.md\":\"cbc3b11d\",\"docs_pnpm_npmrc.md\":\"661d99f7\",\"general_text-format.md\":\"c35fab62\",\"docs_unocss_presets.md\":\"178a2ecc\",\"nest_basic_ioc.md\":\"e2eba93b\",\"nest_db_index.md\":\"2d4ecf6c\",\"nest_core_module.md\":\"8c7969e3\",\"nest_basic_http-transfer.md\":\"adf9ab9c\",\"general_authorization.md\":\"32b3b35c\",\"full-stack_nginx_example.md\":\"a15e3ee0\",\"nest_core_provider.md\":\"989f3096\",\"nest_core_middleware.md\":\"9bb47f44\",\"nest_core_pipe.md\":\"fa72ab83\",\"general_authentication.md\":\"4c7f5099\",\"full-stack_nginx_index.md\":\"01e9eb27\",\"full-stack_nginx_config.md\":\"83db0ffb\",\"docs_git_git-workflows.md\":\"c41c2b26\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"老刘开发笔记\",\"description\":\"分享前端工程配置，探索前端工程最佳实践\",\"base\":\"/fe-engineering/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"综合知识\",\"link\":\"/general/text-format\",\"activeMatch\":\"/general/\"},{\"text\":\"前端\",\"activeMatch\":\"/docs/\",\"items\":[{\"text\":\"工程配置\",\"link\":\"/docs/catalogue\"}]},{\"text\":\"大前端\",\"items\":[{\"text\":\"库收集\",\"link\":\"/pkgs/\"},{\"text\":\"Nestjs\",\"link\":\"/nest/basic/\"}]},{\"text\":\"全栈\",\"items\":[{\"text\":\"Nginx\",\"link\":\"/full-stack/nginx/\"}]}],\"outline\":{\"label\":\"内容大纲\"},\"search\":{\"provider\":\"local\",\"options\":{\"locales\":{\"root\":{\"translations\":{\"button\":{\"buttonText\":\"搜索文档\",\"buttonAriaLabel\":\"搜索文档\"},\"modal\":{\"noResultsText\":\"没有找到相关结果\",\"resetButtonTitle\":\"重置搜索\",\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"导航到\"}}}}}}},\"docFooter\":{\"prev\":\"上一页\",\"next\":\"下一页\"},\"lastUpdated\":{\"text\":\"最后更新于\",\"formatOptions\":{\"dateStyle\":\"short\",\"timeStyle\":\"medium\"}},\"sidebar\":{\"/guide/\":[{\"items\":[{\"text\":\"关于本站\",\"link\":\"/guide/about\"},{\"text\":\"Q&A\",\"link\":\"/guide/some-questions\"}]}],\"/general/\":[{\"items\":[{\"text\":\"文本格式\",\"link\":\"/general/text-format\"},{\"text\":\"身份认证\",\"link\":\"/general/authentication\"},{\"text\":\"权限系统&模型\",\"link\":\"/general/authorization\"}]}],\"/docs/\":[{\"items\":[{\"text\":\"文档目录\",\"link\":\"/docs/catalogue\"},{\"text\":\"EditorConfig\",\"link\":\"/docs/editorconfig\"},{\"text\":\"Prettier\",\"link\":\"/docs/prettier/\",\"collapsed\":true,\"items\":[{\"text\":\"概述\",\"link\":\"/docs/prettier/\"},{\"text\":\"配置详解\",\"link\":\"/docs/prettier/prettierrc\"}]},{\"text\":\"ESLint\",\"link\":\"/docs/eslint/\",\"collapsed\":true,\"items\":[{\"text\":\"概述\",\"link\":\"/docs/eslint/\"},{\"text\":\"解析器\",\"link\":\"/docs/eslint/parser\"},{\"text\":\"Flat Config 配置详解\",\"link\":\"/docs/eslint/eslint-config-js\"},{\"text\":\"eslintrc* 配置详解\",\"link\":\"/docs/eslint/eslintrc\"},{\"text\":\"忽略文件配置\",\"link\":\"/docs/eslint/eslintignore\"},{\"text\":\"插件:eslint-config-prettier\",\"link\":\"/docs/eslint/eslint-config-prettier\"},{\"text\":\"插件:eslint-plugin-prettier\",\"link\":\"/docs/eslint/eslint-plugin-prettier\"},{\"text\":\"插件:typescript-eslint\",\"link\":\"/docs/eslint/typescript-eslint\"},{\"text\":\"插件:@babel/eslint-parser\",\"link\":\"/docs/eslint/babel-eslint-parser\"},{\"text\":\"插件:eslint-plugin-vue\",\"link\":\"/docs/eslint/eslint-plugin-vue\"},{\"text\":\"插件:eslint-define-config\",\"link\":\"/docs/eslint/eslint-define-config\"}]},{\"text\":\"Stylelint\",\"link\":\"/docs/stylelint/\",\"collapsed\":true,\"items\":[{\"text\":\"概述\",\"link\":\"/docs/stylelint/\"},{\"text\":\"配置详解\",\"link\":\"/docs/stylelint/stylelintrc\"},{\"text\":\"集成插件\",\"link\":\"/docs/stylelint/integrate\"}]},{\"text\":\"markdownlint\",\"link\":\"/docs/markdownlint\"},{\"text\":\"ls-lint\",\"link\":\"/docs/ls-lint\"},{\"text\":\"Husky\",\"link\":\"/docs/husky\"},{\"text\":\"Lint-staged\",\"link\":\"/docs/lint-staged\"},{\"text\":\"Browserslist\",\"link\":\"/docs/browserslist\"},{\"text\":\"版本和changelog管理\",\"link\":\"/docs/changelog/\",\"collapsed\":true,\"items\":[{\"text\":\"commitlint\",\"link\":\"/docs/changelog/commitlint\"},{\"text\":\"czg\",\"link\":\"/docs/changelog/czg\"},{\"text\":\"release-it\",\"link\":\"/docs/changelog/release-it\"},{\"text\":\"conventional-changelog\",\"link\":\"/docs/changelog/conventional-changelog\"}]},{\"text\":\"Pnpm\",\"link\":\"/docs/pnpm/\",\"collapsed\":true,\"items\":[{\"text\":\"概述\",\"link\":\"/docs/pnpm/\"},{\"text\":\".npmrc配置\",\"link\":\"/docs/pnpm/npmrc\"},{\"text\":\"功能\",\"link\":\"/docs/pnpm/function\"}]},{\"text\":\"npm\",\"link\":\"/docs/npm/package-json\",\"collapsed\":true,\"items\":[{\"text\":\"package.json\",\"link\":\"/docs/npm/package-json\"},{\"text\":\"package-lock.json\",\"link\":\"/docs/npm/package-lock\"},{\"text\":\".npmrc\",\"link\":\"/docs/npm/npmrc\"}]},{\"text\":\"Git\",\"link\":\"/docs/git/gitignore\",\"collapsed\":true,\"items\":[{\"text\":\".gitignore\",\"link\":\"/docs/git/gitignore\"},{\"text\":\".gitattributes\",\"link\":\"/docs/git/gitattributes\"},{\"text\":\"Git LFS\",\"link\":\"/docs/git/git-lfs\"},{\"text\":\"Git Workflows\",\"link\":\"/docs/git/git-workflows\"}]},{\"text\":\"Github\",\"link\":\"/docs/github/github-actions\",\"collapsed\":true,\"items\":[{\"text\":\"github actions\",\"link\":\"/docs/github/github-actions\"},{\"text\":\"github pages\",\"link\":\"/docs/github/github-pages\"}]},{\"text\":\"TypeScript\",\"link\":\"/docs/typescript/\",\"collapsed\":true,\"items\":[{\"text\":\"概述\",\"link\":\"/docs/typescript/\"},{\"text\":\"jsconfig.json配置\",\"link\":\"/docs/typescript/jsconfig\"},{\"text\":\"tsconfig.json配置\",\"link\":\"/docs/typescript/tsconfig\"}]},{\"text\":\"UnoCSS\",\"link\":\"/docs/unocss/\",\"collapsed\":true,\"items\":[{\"text\":\"概述\",\"link\":\"/docs/unocss/\"},{\"text\":\"配置\",\"link\":\"/docs/unocss/config\"},{\"text\":\"预设\",\"link\":\"/docs/unocss/presets\"}]}]}],\"/pkgs/\":[{\"items\":[{\"text\":\"文档目录\",\"link\":\"/pkgs/\"},{\"text\":\"cosmiconfig\",\"link\":\"/pkgs/cosmiconfig\"},{\"text\":\"escape-html\",\"link\":\"/pkgs/escape-html\"},{\"text\":\"prismjs\",\"link\":\"/pkgs/prismjs\"}]}],\"/nest/\":[{\"text\":\"Nestjs\",\"link\":\"/nest/basic/\",\"items\":[{\"text\":\"基础\",\"collapsed\":true,\"activeMatch\":\"/nest/basic/\",\"items\":[{\"text\":\"概述\",\"link\":\"/nest/basic/\"},{\"text\":\"nest-cli\",\"link\":\"/nest/basic/nest-cli\"},{\"text\":\"理解 IoC\",\"link\":\"/nest/basic/ioc\"},{\"text\":\"理解 AOP\",\"link\":\"/nest/basic/aop\"},{\"text\":\"HTTP 数据传输\",\"link\":\"/nest/basic/http-transfer\"},{\"text\":\"内置装饰器\",\"link\":\"/nest/basic/decorator\"}]},{\"text\":\"核心\",\"collapsed\":true,\"items\":[{\"text\":\"module\",\"link\":\"/nest/core/module\"},{\"text\":\"provider\",\"link\":\"/nest/core/provider\"},{\"text\":\"middleware\",\"link\":\"/nest/core/middleware\"},{\"text\":\"pipe\",\"link\":\"/nest/core/pipe\"}]},{\"text\":\"进阶\",\"collapsed\":true,\"items\":[{\"text\":\"全局配置\",\"link\":\"/nest/advanced/setting\"},{\"text\":\"日志系统\",\"link\":\"/nest/advanced/log\"},{\"text\":\"参数校验\",\"link\":\"/nest/advanced/validate\"},{\"text\":\"异常过滤器\",\"link\":\"/nest/advanced/exception-filter\"},{\"text\":\"集成redis\",\"link\":\"/nest/advanced/redis\"},{\"text\":\"集成mysql\",\"link\":\"/nest/advanced/mysql\"},{\"text\":\"集成swagger\",\"link\":\"/nest/advanced/swagger\"},{\"text\":\"集成compodoc\",\"link\":\"/nest/advanced/compodoc\"},{\"text\":\"登录状态\",\"link\":\"/nest/advanced/login\"}]}]}],\"/full-stack/\":[{\"items\":[{\"text\":\"Nginx\",\"link\":\"/full-stack/nginx/\",\"collapsed\":true,\"items\":[{\"text\":\"概述\",\"link\":\"/full-stack/nginx/\"},{\"text\":\"配置文件\",\"link\":\"/full-stack/nginx/config\"},{\"text\":\"配置示例\",\"link\":\"/full-stack/nginx/example\"}]}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/yun8711/fe-configuration.git\"}]},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":true}");</script>
    
  </body>
</html>