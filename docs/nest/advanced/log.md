---
outline: deep
---

# 日志系统



## 简介



### Nest 内置日志模块

`Nest` 附带一个默认的内部日志记录器，由 `@nestjs/common` 包中的 `Logger` 类实现，可以全面控制如下的日志系统的行为：

- 启用或禁用日志，默认启用
- 指定日志系统展示级别，如错误、警告、调试信息等
- 覆盖默认日志记录器的时间戳（例如使用 ISO8601 标准作为日期格式）
- 完全覆盖默认日志记录器
- 通过扩展自定义默认日志记录器
- 使用依赖注入来简化编写和测试你的应用



### 服务端日志

服务端打印日志一般不会用 console.log，原因是：

- 服务端的日志经常要用来排查问题，需要搜索、分析日志内容，需要写入文件或者数据库里进行持久化
- 日志需要分级别，比如错误的日志、普通日志，需要能够过滤不同级别
- 打印日志需要带上时间戳、代码位置等信息

基于上述需求，一般都会使用专门的日志框架，比如 winston



## winston

https://www.npmjs.com/package/winston

它是 nodejs 最流行的日志框架

`winston` 被设计为一个简单且通用的日志记录库，支持多种传输。传输本质上是日志的存储设备。每个 `winston` 记录器可以在不同级别配置多个传输（请参阅：传输）（请参阅：日志记录级别）。例如，人们可能希望将错误日志存储在持久的远程位置（如数据库），但所有日志都输出到控制台或本地文件。

`winston` 旨在将日志记录过程的各个部分解耦，使其更加灵活和可扩展。



## Winston 日志中间件

